System.register("chunks:///_virtual/CardManager.ts",["cc"],(function(a){"use strict";var t,r,e,n;return{setters:[function(a){t=a.cclegacy,r=a._decorator,e=a.resources,n=a.JsonAsset}],execute:function(){var s,c;t._RF.push({},"96b26LUSBJH6aYyoGrQs5dz","CardManager",void 0);var i=r.ccclass;r.property,a("CardManager",i("CardManager")(((c=function(){function a(){this.cardData=null}a.getInstance=function(){return this._instance||(this._instance=new a),this._instance};var t=a.prototype;return t.loadCardsData=function(a){var t=this;e.load("CardsData/CardsData",n,(function(r,e){t.cardData=e.json,a(r,!0)}))},t.loadCardsDataWithName=function(a){return this.cardData?this.cardData[a].CardData:[]},t.getDragonName=function(a){if(this.cardData){var t=this.cardData[a];return t.species+t.type}return"Not Found"},t.getDragonInfo=function(a){if(this.cardData){var t=this.cardData[a];return{ATK:t.ATK,DEF:t.DEF,HP:t.HP,INT:t.INT,SPD:t.SPD,type:t.type,species:t.species,class:t.class,Name:t.species+" "+t.type,Spine:t.Spine,Image:t.Image}}return null},a}())._instance=void 0,s=c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Cards.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,n,r,a,i,o,c,u,l,s,p,d;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.Sprite,a=t.Label,i=t.Node,o=t.resources,c=t.SpriteFrame,u=t.Component},function(t){l=t.applyDecoratedDescriptor,s=t.inheritsLoose,p=t.initializerDefineProperty,d=t.assertThisInitialized}],execute:function(){var g,f,h,C,b,m,y,v,w,k,D,I,R,z,F,N,_,L,S;e._RF.push({},"ee5e1NCN9NJ/7oV0TjvspaA","Cards",void 0);var j=n.ccclass,A=n.property;t("Cards",(g=j("Cards"),f=A({type:r}),h=A({type:r}),C=A({type:r}),b=A({type:a}),m=A({type:a}),y=A({type:a}),v=A({type:r}),w=A({type:i}),g((I=l((D=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,p(e,"cardImage",I,d(e)),p(e,"unknownCard",R,d(e)),p(e,"attackCountImg",z,d(e)),p(e,"energyCounter",F,d(e)),p(e,"attackCounter",N,d(e)),p(e,"description",_,d(e)),e.cardName=null,p(e,"glow",L,d(e)),e.cardData=null,e.parentRef=null,p(e,"buttonRef",S,d(e)),e}s(e,t);var n=e.prototype;return n.start=function(){this.parentRef=null},n.setCardData=function(t,e){var n=this;this.parentRef=e,this.cardData=t;var r=this.cardData.Name;o.load("DragonCards/"+r+"/spriteFrame",c,(function(t,e){t?(n.cardImage.node.active=!1,n.glow.node.active=!1,n.unknownCard.node.active=!0):n.updateCardUI(e)}))},n.updateCardUI=function(t){this.cardImage.node.active=!0,this.glow.node.active=!this.parentRef,this.unknownCard.node.active=!1,this.attackCountImg.node.active=!0,this.cardImage.spriteFrame=t,this.description.string=this.cardData.Description,this.energyCounter.string=this.cardData.EnergyCost,this.cardData.Damage?this.attackCounter.string=this.cardData.Damage:this.attackCountImg.node.active=!1},n.cardClicked=function(t,e){this.parentRef&&this.parentRef.cardClickCB(e)},n.showGlow=function(){this.buttonRef.active=!1,this.glow.node.active=!0},n.hideGlow=function(){this.glow.node.active=!1,this.buttonRef.active=!0},n.update=function(t){},n.updateHoveredCard=function(t,e,n,r){void 0===r&&(r=""),this.cardImage.spriteFrame=t,this.description.string=e,this.energyCounter.string=n,r?(this.attackCountImg.node.active=!0,this.attackCounter.string=r):this.attackCountImg.node.active=!1},e}(u)).prototype,"cardImage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=l(D.prototype,"unknownCard",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=l(D.prototype,"attackCountImg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=l(D.prototype,"energyCounter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=l(D.prototype,"attackCounter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=l(D.prototype,"description",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=l(D.prototype,"glow",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=l(D.prototype,"buttonRef",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=D))||k));e._RF.pop()}}}));

System.register("chunks:///_virtual/CardsControl.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(r){"use strict";var a,t,e,n,s,i,o,C,d,u,h,l,g,f;return{setters:[function(r){a=r.cclegacy,t=r._decorator,e=r.Prefab,n=r.CCInteger,s=r.Label,i=r.instantiate,o=r.Component},function(r){C=r.applyDecoratedDescriptor,d=r.inheritsLoose,u=r.initializerDefineProperty,h=r.assertThisInitialized},function(r){l=r.USER,g=r.CardAnimation},function(r){f=r.TeamManager}],execute:function(){var c,p,m,y,v,P,b,D,L,_,U;a._RF.push({},"ff43a4NNXRJUIHxVeuauHNd","CardsControl",void 0);var N=t.ccclass,I=t.property;r("CardsControl",(c=N("CardsControl"),p=I({type:e}),m=I({type:n}),y=I({type:n}),v=I({type:s}),c((D=C((b=function(r){function a(){for(var a,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a=r.call.apply(r,[this].concat(e))||this,u(a,"cardsLayoutPrefab",D,h(a)),u(a,"gameStartCardsCount",L,h(a)),u(a,"CardsOnRoundEnd",_,h(a)),u(a,"cardsCountLable",U,h(a)),a.cardsLeft=[],a.currentCards=[],a.CPU_CardsLeft=[],a.CPU_CurCards=[],a.arrayOfEnergyOfCard=[],a.arrayOfAvailableCombination=[],a.K=0,a}d(a,r);var t=a.prototype;return t.start=function(){for(var r=f.getInstance().getFightingDragons(l.Player),a=f.getInstance().getFightingDragons(l.Computer),t=null,e=0;e<r.length;e++)t=i(this.cardsLayoutPrefab),this.node.addChild(t),t.name=r[e].Node.name,this.setCard(r[e].Data.DragonsCard,l.Player),this.setCard(a[e].Data.DragonsCard,l.Computer);this.RandomCardsSetup(l.Player,this.gameStartCardsCount),this.RandomCardsSetup(l.Computer,this.gameStartCardsCount)},t.RandomCardsSetup=function(r,a){var t=this;void 0===r&&(r=l.Player),void 0===a&&(a=this.CardsOnRoundEnd);var e=null;if(r==l.Player){if(0==this.cardsLeft.length&&0==this.currentCards.length)for(var n=f.getInstance().getFightingDragons(l.Player),s=0;s<n.length;s++)for(var i=0;i<n[s].Data.DragonsCard.length;i++)n[s].Data.DragonsCard[i].name=n[s].Node.name,this.cardsLeft.push(n[s].Data.DragonsCard[i]);else if(1==this.cardsLeft.length)a=1;else if(0==this.cardsLeft.length&&12!=this.currentCards.length){for(var o=f.getInstance().getFightingDragons(l.Player),C=0;C<o.length;C++)for(var d=0;d<o[C].Data.DragonsCard.length;d++)o[C].Data.DragonsCard[d].name=o[C].Node.name,this.cardsLeft.push(o[C].Data.DragonsCard[d]);for(var u=function(r){var a=t.cardsLeft[r].getComponent("powerCard").cardName,e=t.currentCards.findIndex((function(r){return r.getComponent("powerCard").cardName==a}));-1!=e&&t.currentCards.splice(e,1)},h=0;h<this.cardsLeft.length;h++)u(h)}for(var c=0;c<a&&this.cardsLeft.length;c++){var p=(e=this.getRandomCard()).getComponent("powerCard");this.node.getChildByName(e.name).addChild(e),f.getInstance().ReduceCards(),this.cardsCountLable.string=""+this.cardsLeft.length,p.playAnimation(g.CardIn)}}else{if(0==this.CPU_CardsLeft.length&&0==this.CPU_CurCards.length)for(var m=f.getInstance().getFightingDragons(l.Computer),y=0;y<m.length;y++)for(var v=0;v<m[y].Data.DragonsCard.length;v++)m[y].Data.DragonsCard[v].name=m[y].Node.name,this.CPU_CardsLeft.push(m[y].Data.DragonsCard[v]);else 1==this.CPU_CardsLeft.length&&(a=1);for(var P=0;P<a&&this.CPU_CardsLeft.length;P++)e=this.getRandomCard(l.Computer)}},t.getRandomCard=function(r){if(void 0===r&&(r=l.Player),r==l.Computer){var a=this.CPU_CardsLeft.length-1,t=Math.floor(Math.random()*(a-0+1))+0,e=this.CPU_CardsLeft[t];return this.CPU_CardsLeft.splice(t,1),this.CPU_CurCards.push(e),e}var n=this.cardsLeft.length-1,s=Math.floor(Math.random()*(n-0+1))+0;e=this.cardsLeft[s];return this.cardsLeft.splice(s,1),this.currentCards.push(e),e},t.setCard=function(r,a){void 0===a&&(a=l.Player);for(var t=0;t<r.length;t++){r[t].getComponent("powerCard").setParent(this.node.parent.getComponent("gamePlay")),a==l.Player?this.cardsLeft.push(r[t]):this.CPU_CardsLeft.push(r[t])}},t.updateCurrentCards=function(r,a){void 0===a&&(a=l.Player),a==l.Player?this.currentCards.splice(this.currentCards.findIndex((function(a){return a.getComponent("powerCard").Name_Card==r.Name})),1):this.CPU_CurCards.splice(this.CPU_CurCards.findIndex((function(a){return a.getComponent("powerCard").Name_Card==r.Name})),1)},t.cardsToSelectForComputer=function(){var r=this;this.arrayOfAvailableCombination.length=0,this.arrayOfEnergyOfCard.length=0;for(var a=0;a<this.CPU_CurCards.length;a++){var t=this.CPU_CurCards[a].getComponent("powerCard");this.arrayOfEnergyOfCard.push(t.CardData.EnergyCost)}if(this.K=f.getInstance().getCurrentEnegy(l.Computer),this.Combination(this.arrayOfEnergyOfCard,this.K),0!=this.arrayOfAvailableCombination.length){var e=Math.floor(Math.random()*(this.arrayOfAvailableCombination.length-1-0+1)+0);return this.chooseCards(e)}if(this.CPU_CurCards.length<=2){for(var n=f.getInstance().getFightingDragons(l.Computer),s=0;s<n.length;s++)this.setCard(n[s].Data.DragonsCard,l.Computer);for(var i=function(a){var t=r.CPU_CurCards[a].getComponent("powerCard").cardName,e=r.CPU_CardsLeft.findIndex((function(r){return r.getComponent("powerCard").cardName==t}));-1!=e&&r.CPU_CardsLeft.splice(e,1)},o=0;o<this.CPU_CurCards.length;o++)i(o)}return null},t.checkCurrentCards=function(){},t.chooseCards=function(r){void 0===r&&(r=0);var a=[];if(0==this.arrayOfAvailableCombination.length)return null;for(var t=this.arrayOfAvailableCombination[r],e=0;e<t.length;e++)for(var n=0;n<this.CPU_CurCards.length;n++){var s=this.CPU_CurCards[n].getComponent("powerCard"),i=s.CardData.EnergyCost;if(t[e]==i){this.CPU_CurCards[n];a.push({dragonName:s.dragonName,cardData:s.CardData}),this.updateCurrentCards(s.CardData,l.Computer),f.getInstance().UseEnergy(i,l.Computer);break}}return a},t.unique_combination=function(r,a,t,e,n){var s=[];if(a!=t)for(var i=r;i<n.length;i++)a+n[i]>t||i>r&&n[i]==n[i-1]||(e.push(n[i]),this.unique_combination(i+1,a+n[i],t,e,n),e.pop());else{for(var o=0;o<e.length;o++)s.push(e[o]);this.arrayOfAvailableCombination.push(s)}},t.Combination=function(r,a){r.sort((function(r,a){return r-a}));this.unique_combination(0,0,a,[],r)},t.checkforRemovedDragons=function(){for(var r=f.getInstance().getRemovedDragons(),a=0;a<r.length;a++)r[a].userType==l.Player&&(this.node.getChildByName(r[a].name).active=!1),this.updateCardArray(this.currentCards,r[a].name),this.updateCardArray(this.cardsLeft,r[a].name),this.updateCardArray(this.CPU_CardsLeft,r[a].name),this.updateCardArray(this.CPU_CurCards,r[a].name)},t.updateCardArray=function(r,a){r=r.filter((function(r){return r.name!=a}))},a}(o)).prototype,"cardsLayoutPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=C(b.prototype,"gameStartCardsCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),_=C(b.prototype,"CardsOnRoundEnd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),U=C(b.prototype,"cardsCountLable",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=b))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/comingSoon.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(n){"use strict";var o,t,i,e,s;return{setters:[function(n){o=n.cclegacy,t=n._decorator,i=n.Animation,e=n.Component},function(n){s=n.inheritsLoose}],execute:function(){var c;o._RF.push({},"9cf34Z0TANNdKd9uzRG5n30","comingSoon",void 0);var r=t.ccclass;t.property,n("comingSoon",r("comingSoon")(c=function(n){function o(){return n.apply(this,arguments)||this}s(o,n);var t=o.prototype;return t.start=function(){this.node.getComponent(i).play(),this.node.getComponent(i).on("finished",this.onFinished,this)},t.onFinished=function(){this.node.destroy()},o}(e))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({AnimName:void 0,Boost:void 0,BoostDependent:void 0,Booster:void 0,Buff_Type:void 0,CardAnimation:void 0,Card_Type:void 0,Damage:void 0,Damage_Type:void 0,DeerType:void 0,DotItems:void 0,EffectStatus:void 0,EffectType:void 0,Effect_Target:void 0,Effect_Type:void 0,EffectsProp:void 0,Game_Dynamics:void 0,Heal_Type:void 0,Max_Base:void 0,Reach:void 0,Taunt_Type:void 0,Traget:void 0,USER:void 0,count:void 0}),t._RF.push({},"983031nyw9FQIJwcEg5FXwu","Constants",void 0);var o,a,_,n,E,D,f,u,T,i;e("DragonsCount",3),e("Round_INC",1),e("Base_Booster",1);!function(e){e[e.CardIn=0]="CardIn",e[e.CardOut=1]="CardOut"}(o||(o=e("CardAnimation",{}))),function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(a||(a=e("EffectStatus",{}))),function(e){e.AOE="AOE",e.ST="ST"}(_||(_=e("Reach",{}))),function(e){e[e.BUFF=0]="BUFF",e[e.HEAL=1]="HEAL",e[e.DOT=2]="DOT",e[e.DEBUFF=3]="DEBUFF",e[e.SETUP=4]="SETUP",e[e.REFLECT=5]="REFLECT"}(n||(n=e("EffectType",{}))),function(e){e.IMD="IMD_Heal"}(E||(E=e("Heal_Type",{}))),function(e){e.DMG_BOOST="Damage_Boost",e.ATK_BOOST="Attack_Boost",e.DMG="Damage",e.DMG_REF="DMG_REFLECT",e.EVD_BUFF="Evade_Buff",e.SPD_BOOST="Speed_Boost",e.DMG_RED="Damage_Reduce",e.IMD_HEAL="Immediate_Heal",e.TAUNT="Taunt",e.HEAL_BLK="Heal_Block",e.FRZ_ENY="Freeze_Enemy",e.INC_HEAL="Increase_Heal",e.RM_DB_HEAL="Remove_Dbuff_HEAL",e.RM_DB="Remove_Dbuff",e.DEC_SPD="Decrease_Speed",e.INV="Invincible"}(D||(D=e("Booster",{}))),function(e){e.Enemy_Debuff="Enemy_Debuff",e.Self_Lost_HP="Lost_HP",e.Value="Value",e.ENY_DMG="Enemy_Damage",e.MAX_Value="Max_Value",e.DMG="Damage"}(f||(f=e("BoostDependent",{}))),function(e){e.ONE="One",e.ALL="ALL"}(u||(u=e("count",{}))),function(e){e.DMG_BOOST="Damage_Boost",e.DRG_SPEED="Dragon_Speed",e.DMG_RED="Damage_Reduce",e.DMG_REFLECT="Reflect_Damage"}(T||(T=e("Buff_Type",{}))),function(e){e.Buff="buff",e.Heal="heal",e.Dot="dot",e.Debuff="debuff",e.Setup="setup",e.Reflect="reflect",e.Taunt="taunt"}(i||(i=e("EffectsProp",{})));var c,A;e("Effects",(function(){this.buff=[],this.heal=[],this.dot=[],this.debuff=[],this.setup=[],this.reflect=[],this.taunt=[]}));!function(e){e.DMG_REF="Damage_Reflect"}(c||(c=e("Taunt_Type",{}))),function(e){e.SLF="Self",e.ENY="Enemy",e.TEAM="Team",e.ALY_LOW_HP="Ally_Low_HP",e.MULT="Multiple_Target",e.ENY_TEAM="Enemy_Team",e.SLF_TEAM="Self_Team"}(A||(A=e("Effect_Target",{})));var r;e("Item",{Type:"",Boost:1,Duration:0});!function(e){e.BUFF="Buff",e.HEAL="Heal",e.DOT="Dot",e.DEBUFF="Debuff",e.SETUP="Setup",e.REFLECT="Reflect",e.TAUNT="Taunt"}(r||(r=e("Effect_Type",{})));var s,I,d,l,L,m,S,B,F,C,p;e("Effect",{Duration:0,Effect_Type:"",Type:"",Amount:0,Status:!1});!function(e){e[e.Computer=0]="Computer",e[e.Player=1]="Player"}(s||(s=e("USER",{}))),function(e){e[e.SPD=100]="SPD",e[e.ATK=600]="ATK",e[e.HP=1200]="HP",e[e.DEF=800]="DEF",e[e.INIT=700]="INIT"}(I||(I=e("Max_Base",{}))),function(e){e[e.EVASION_COEFFICIENT=15]="EVASION_COEFFICIENT",e[e.CRIICAL_HIT_PROB=12]="CRIICAL_HIT_PROB"}(d||(d=e("Game_Dynamics",{}))),function(e){e[e.EVADED=.25]="EVADED",e[e.DEBUFF_CHANCE=.5]="DEBUFF_CHANCE",e[e.CRITICAL_HIT=1.4]="CRITICAL_HIT",e[e.EVADE_INC=3]="EVADE_INC",e[e.EVADE_PENALTY=1.5]="EVADE_PENALTY"}(l||(l=e("Damage",{}))),function(e){e.PHY="Physical",e.SKL="Skill"}(L||(L=e("Damage_Type",{}))),function(e){e.SPD="SPD_BOOST",e.DMG="DMG_BOOST",e.ATK="ATK_BOOST",e.RED_DMG="DMG_REDUCE"}(m||(m=e("Boost",{}))),function(e){e.DMG="DMG"}(S||(S=e("DotItems",{}))),function(e){e.Attack="ATK",e.Defense="DEF",e.Heal="HEAL"}(B||(B=e("Card_Type",{}))),function(e){e.SLF="Self",e.ENY="Enemy"}(F||(F=e("Traget",{}))),function(e){e[e.IDLE=1]="IDLE",e[e.WALKING=2]="WALKING",e[e.EATING=3]="EATING",e[e.IDLE_EATING=4]="IDLE_EATING",e[e.IDLE_WALKING=5]="IDLE_WALKING",e[e.IDLE_EAT_WALK=6]="IDLE_EAT_WALK"}(C||(C=e("DeerType",{}))),function(e){e.Brace_Yourself="braceYourself",e.Trauma="trauma",e.Relentless="relentless",e.Talon_Grip="talonGrip",e.Practical_Joke="practicalJoke",e.Serate="serate",e["Pandora's_Box"]="pandora2",e.Icy_Touch="icyTouch",e.Not_So_Fast="notSoFast",e.We_Can_Do_It="weCanDoIt",e.Hold_Strong="holdStrong",e.Avenger="avenger"}(p||(p=e("AnimName",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/Deer.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,p,l,m,u,y;return{setters:[function(e){t=e.cclegacy,n=e._decorator,i=e.Enum,o=e.Animation,r=e.tween,a=e.Vec3,s=e.Component},function(e){c=e.applyDecoratedDescriptor,p=e.inheritsLoose,l=e.initializerDefineProperty,m=e.assertThisInitialized},function(e){u=e.DeerType},function(e){y=e.RNG}],execute:function(){var d,D,h,A,f;t._RF.push({},"6634cR98EBPOoE2KdPzQraX","Deer",void 0);var I=n.ccclass,E=n.property;e("Deer",(d=I("Deer"),D=E({type:i(u)}),d((f=c((A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,l(t,"deerType",f,m(t)),t.timer=0,t.deerIdleAnimTimer=1500,t}p(t,e);var n=t.prototype;return n.start=function(){this.deerType==u.WALKING&&this.playDeerWalkAnimation()},n.update=function(e){this.timer++,this.timer%this.deerIdleAnimTimer==0&&(this.deerIdleAnimTimer=y(2e3,3e3),this.checkAnimationToPlay())},n.checkAnimationToPlay=function(){switch(this.deerType){case u.EATING:case u.IDLE:break;case u.IDLE_EATING:this.playDeerIdleEatingAnimation();break;case u.IDLE_EAT_WALK:case u.IDLE_WALKING:case u.WALKING:}},n.playDeerEatAnimation=function(){this.node.getComponent(o).play("DeerEatAnimation")},n.playDeerIdleAnimation=function(){this.node.getComponent(o).play("DeerIdleAnim")},n.playDeerWalkAnimation=function(){var e=y(0,1);this.node.getComponent(o).play("DeerWalk"),r(this.node).by(70,{position:new a(-500,-e,0)}).start()},n.playDeerDownAnimation=function(){this.node.getComponent(o).play("DeerDownMovement")},n.playDeerUpAnimation=function(){this.node.getComponent(o).play("DeerUpwordMovement")},n.playDeerIdleEatingAnimation=function(){this.node.getComponent(o).play("DeerIdleEat")},t}(s)).prototype,"deerType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.IDLE}}),h=A))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/DeerAniamtion.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var r,t,i,n,o,a,l,u,c;return{setters:[function(e){r=e.cclegacy,t=e._decorator,i=e.Node,n=e.Prefab,o=e.Component},function(e){a=e.applyDecoratedDescriptor,l=e.inheritsLoose,u=e.initializerDefineProperty,c=e.assertThisInitialized}],execute:function(){var p,s,f,b,y,m,D,A,v,d,g;r._RF.push({},"efb18izaOpF74v4N47y8OAI","DeerAniamtion",void 0);var _=t.ccclass,h=t.property;e("DeerAniamtion",(p=_("DeerAniamtion"),s=h({type:i}),f=h({type:[i]}),b=h({type:n}),y=h({type:[i]}),p((A=a((D=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return r=e.call.apply(e,[this].concat(i))||this,u(r,"Deer_Animation",A,c(r)),u(r,"DeerMovePoints",v,c(r)),r.Deer_AnimationCount=0,r.tempMulti=void 0,r.Deer_AnimationSpeed=150,u(r,"treePrefab",d,c(r)),u(r,"treeArea",g,c(r)),r}return l(r,e),r}(o)).prototype,"Deer_Animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=a(D.prototype,"DeerMovePoints",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=a(D.prototype,"treePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=a(D.prototype,"treeArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=D))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Details.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var t,a,i,r,n,o,h,l,d,g,s,y,m,C,c,p;return{setters:[function(e){t=e.cclegacy,a=e._decorator,i=e.Prefab,r=e.Node,n=e.instantiate,o=e.Vec3,h=e.UITransform,l=e.Label,d=e.EditBox,g=e.Component},function(e){s=e.applyDecoratedDescriptor,y=e.inheritsLoose,m=e.initializerDefineProperty,C=e.assertThisInitialized},function(e){c=e.USER},function(e){p=e.TeamManager}],execute:function(){var B,u,L,A,v,N,E,b,w,D,f,x,T,_,P,O,R;t._RF.push({},"f1ce3aBB7NG5LQ8745wCd7h","Details",void 0);var z=a.ccclass,H=a.property;e("Details",(B=z("Details"),u=H({type:i}),L=H({type:i}),A=H({type:r}),v=H({type:r}),N=H({type:i}),E=H({type:r}),b=H({type:i}),B((f=s((D=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,m(t,"button",f,C(t)),m(t,"prop",x,C(t)),m(t,"view",T,C(t)),m(t,"details",_,C(t)),m(t,"damageChance",P,C(t)),m(t,"viewForDamageChance",O,C(t)),m(t,"updatedSuccessfully",R,C(t)),t.dragonArray=[],t.propArray=[],t.index=0,t.addLabel=null,t.damChanceArray=[],t.powerType=["HP","ATK","DEF","SPD","INT"],t}y(t,e);var a=t.prototype;return a.start=function(){this.dragonArray=[p.getInstance().getDragons(c.Player),p.getInstance().getDragons(c.Computer)],this.dragonArray=this.dragonArray.flat();this.dragonArray[0].getComponent("Dragon");for(var e=0;e<this.dragonArray.length;e++){var t=n(this.button);t.position=new o(-100,this.node.getComponent(h).height/2-(100*e+300),0),this.view.addChild(t),t.getChildByName("Label").getComponent(l).string=this.dragonArray[e].name,t.on(r.EventType.MOUSE_DOWN,this.showDetails,this)}for(var a=0;a<this.powerType.length;a++){var i=void 0;(i=n(this.prop)).position=new o(0,this.details.getComponent(h).height/2-(100*a+50),0),this.details.addChild(i),i.getChildByName("dragonData").getChildByName("Label").getComponent(l).string=this.powerType[a],i.getChildByName("EditBox").getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=this.dragonArray[0].getComponent("Dragon")[this.powerType[a]],this.propArray.push(i)}for(var d=0;d<4;d++){var g;g=n(this.damageChance),this.viewForDamageChance.addChild(g),this.damChanceArray.push(g)}this.viewDamageChanceView(0)},a.showDetails=function(e){this.view.active=!0;for(var t=0;t<6;t++)this.dragonArray[t].name==e.target.getChildByName("Label").getComponent(l).string&&(this.index=t);for(var a=0;a<this.propArray.length;a++)this.propArray[a].getChildByName("EditBox").getChildByName("TEXT_LABEL").active=!1,this.propArray[a].getChildByName("EditBox").getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=this.dragonArray[this.index].getComponent("Dragon")[this.powerType[a]],this.propArray[a].getChildByName("EditBox").getChildByName("PLACEHOLDER_LABEL").active=!0;this.viewDamageChanceView(this.index)},a.updateButton=function(){for(var e=!1,t=0;t<this.powerType.length;t++)if(this.propArray[t].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(l).string){var a=this.powerType[t];this.dragonArray[this.index].getComponent("Dragon").CardsData[a]=+this.propArray[t].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(l).string,this.dragonArray[this.index].getComponent("Dragon").resetDragonAbiitly(),e=!0}for(var i=this.dragonArray[this.index].getComponent("Dragon").CardsData.CardData,r=0;r<this.damChanceArray.length;r++){var o=this.damChanceArray[r].getChildByName("belowLayout").getChildByName("chanceEditBox").getComponent(d),h=this.damChanceArray[r].getChildByName("belowLayout").getChildByName("damageEditBox").getComponent(d);h.textLabel.string&&(i[r].Damage=+h.textLabel.string,e=!0,h.string=""),o.textLabel.string&&(i[r].chance=+o.textLabel.string,e=!0,o.string="")}this.viewDamageChanceView(this.index),e&&this.node.parent.parent.addChild(n(this.updatedSuccessfully))},a.activeButton=function(){this.node.parent.active=!0},a.closeButton=function(){this.node.parent.active=!1},a.viewDamageChanceView=function(e){for(var t=this.dragonArray[e].getComponent("Dragon").CardsData.CardData,a=0;a<this.damChanceArray.length;a++){var i=this.damChanceArray[a].getChildByName("belowLayout").getChildByName("damage"),r=this.damChanceArray[a].getChildByName("belowLayout").getChildByName("damageEditBox");i.active=!0,r.active=!0;var n=this.damChanceArray[a].getChildByName("belowLayout").getChildByName("chance"),o=this.damChanceArray[a].getChildByName("belowLayout").getChildByName("chanceEditBox");n.active=!0,o.active=!0,this.damChanceArray[a].getChildByName("belowLayout").getChildByName("chanceEditBox").getChildByName("TEXT_LABEL").active=!1,this.damChanceArray[a].getChildByName("belowLayout").getChildByName("damageEditBox").getChildByName("TEXT_LABEL").active=!1,this.damChanceArray[a].getChildByName("belowLayout").getChildByName("chanceEditBox").getChildByName("PLACEHOLDER_LABEL").active=!0,this.damChanceArray[a].getChildByName("belowLayout").getChildByName("damageEditBox").getChildByName("PLACEHOLDER_LABEL").active=!0,this.damChanceArray[a].getChildByName("topLayout").getChildByName("cardName").getChildByName("Label").getComponent(l).string=t[a].Name,t[a].hasOwnProperty("Damage")?r.getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=t[a].Damage:(r.active=!1,i.active=!1),t[a].hasOwnProperty("chance")?o.getChildByName("PLACEHOLDER_LABEL").getComponent(l).string=t[a].chance:(this.damChanceArray[a].getChildByName("belowLayout").getChildByName("chanceEditBox").enabled=!1,o.active=!1,n.active=!1)}},t}(g)).prototype,"button",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=s(D.prototype,"prop",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=s(D.prototype,"view",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=s(D.prototype,"details",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=s(D.prototype,"damageChance",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=s(D.prototype,"viewForDamageChance",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=s(D.prototype,"updatedSuccessfully",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=D))||w));t._RF.pop()}}}));

System.register("chunks:///_virtual/Dragon.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,s,a,n,i,o,r,c,h,f,d,l,u,p,D,g,m,_,b,E,A,C,y,B,P,T,k,v,R,H,S;return{setters:[function(t){e=t.cclegacy,s=t._decorator,a=t.Prefab,n=t.Node,i=t.Label,o=t.Sprite,r=t.Animation,c=t.resources,h=t.SpriteFrame,f=t.JsonAsset,d=t.ProgressBar,l=t.instantiate,u=t.Component},function(t){p=t.applyDecoratedDescriptor,D=t.inheritsLoose,g=t.initializerDefineProperty,m=t.assertThisInitialized,_=t.extends},function(t){b=t.Effects,E=t.USER,A=t.AnimName,C=t.Effect_Type,y=t.Effect_Target,B=t.DragonsCount,P=t.EffectStatus,T=t.EffectsProp,k=t.Booster,v=t.Base_Booster,R=t.count,H=t.BoostDependent},function(t){S=t.TeamManager}],execute:function(){var F,M,O,L,N,G,w,I,K,V,U,z,j,Z,x;e._RF.push({},"93cc2UZoadD/J8sRaz1v58A","Dragon",void 0);var J=0,Y=1,X=s.ccclass,q=s.property;t("Dragon",(F=X("Dragon"),M=q({type:a}),O=q({type:n}),L=q({type:i}),N=q({type:i}),G=q({type:n}),w=q({type:o}),F((V=p((K=function(t){function e(){for(var e,s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,g(e,"cardPrefab",V,m(e)),g(e,"Hp_Node",U,m(e)),g(e,"Max_Hp_Label",z,m(e)),g(e,"Cur_Hp_Label",j,m(e)),g(e,"skeleton",Z,m(e)),g(e,"iconSprite",x,m(e)),e.CardsData=null,e.dragonData=[],e.DragonsCard=[],e.DragonUser=null,e.HP=0,e.SPD=0,e.DEF=0,e.ATK=0,e.INT=0,e.Booster={DMG:1,DMG_RED:1,Taunt:0,EVD_BUFF:0,DMG_REF:{turn:0,ref:0},INV:0},e.Loosers={DMG_BOOST:{turn:0,ref:0},Heal_Block:0,FREZ:{turn:0,ref:0}},e.Buff_items=[],e.Dot_items=[],e.Effects=void 0,e.Buff_Status=!1,e.Buff_Duration_Round=0,e.frames=0,e.duration=0,e.frameRate=30,e.secondsPerFrame=0,e.beginTime=0,e.endTime=0,e.isReversePlayOnce=!1,e.loopMode=J,e.pendingAnimation=[],e}D(e,t);var s=e.prototype;return s.start=function(){this.Effects=new b,this.node.getChildByName("cardAttackAnimation").getComponent(r).on("finished",this.checkPending,this)},s.onLoad=function(){var t=this;(this.spine=this.node.getChildByName("Buff").getComponent("sp.Skeleton")).setCompleteListener((function(e){t.isReversePlayOnce&&(t.doReverse(),t.isReversePlayOnce=!1)})),this.spine.enabled=!1},s.doReverse=function(){this.spine.setAnimation(0,"portal",!1),this.beginTime=2.5,this.endTime=3.5,this.isReversePlayOnce=!1,this.doPlay()},s.onPlayLoopClick=function(){this.spine.setAnimation(0,"portal",!1),this.beginTime=0,this.endTime=2,this.isReversePlayOnce=!1,this.loopMode=Y,this.doPlay()},s.onPlayOnceClick=function(){this.spine.setAnimation(0,"portal",!1),this.beginTime=0,this.endTime=1,this.isReversePlayOnce=!0,this.doPlay()},s.onPlayReverseClick=function(){this.doReverse(),this.spine.setAnimation(0,"portal",!1),this.beginTime=1,this.endTime=2,this.isReversePlayOnce=!0,this.loopMode=J,this.doPlay()},s.doPlay=function(){this.spine.timeScale=0,this.spine.getCurrent(0).animationStart=this.beginTime,this.spine.getCurrent(0).animationEnd=this.endTime,this.spine.timeScale=1},s.loadRoomResource=function(t,e){return new Promise((function(s,a){c.load(t,e,(function(t,e){t?a(t):s(e)}))}))},s.setDragon=function(t,e){var s=this;this.DragonUser=e,this.node.name=t.species+" "+t.type,this.loadRoomResource(t.Image+"/spriteFrame",h).then((function(e){s.node.getComponent(o).spriteFrame=e,s.loadRoomResource("CardsData/CardsData",f).then((function(e){"Pico"==t.species?s.CardsData=e.json[t.species+t.type]:s.CardsData=e.json[t.species],console.log(s.CardsData),s.resetDragonAbiitly(),s.setDragonCards(s.CardsData)})).catch((function(t){}))})).catch((function(t){})),t.Spine&&c.loadDir(t.Spine,(function(e,a){for(var n=0;n<a.length;n++)if(a[n].skeletonJson){var i=Object.keys(a[n].skeletonJson.animations)[0],o=s.skeleton.getComponent("sp.Skeleton");o.skeletonData=a[n],o.setAnimation(0,i,!0),"Ice"!=t.type&&"Fire"!=t.type&&"Alien"!=t.type||o.node.setScale(.18,.18,.18);break}})),this.changeProgressBarIcon(t)},s.resetDragonAbiitly=function(){S.getInstance().getDragons(E.Player);this.HP=this.CardsData.HP,this.SPD=this.CardsData.SPD,this.INT=this.CardsData.INT,this.DEF=this.CardsData.DEF,this.ATK=this.CardsData.ATK,this.Max_Hp_Label.string=""+this.CardsData.HP,this.Cur_Hp_Label.string=""+this.CardsData.HP},s.AddEffect=function(t,e){for(var s=[],a=0;a<t.length;a++){var n=null;(n=_({},t[a])).status=!1,n.data=e,n.duration=parseInt(n.duration)+S.getInstance().getCurrentRound(),s.push(n)}return s},s.BuffEffect=function(t){Object.keys(A).includes(t)?(console.log("cardName Found",A[t]),this.node.getChildByName("cardAttackAnimation").getComponent(r).play(A[t])):(console.log("cardName not Found"),this.spine.enabled=!0,this.onPlayOnceClick())},s.playCardAnimation=function(t){if(Object.keys(A).includes(t)){console.log("cardName Found",A[t]," cardData :: ",this.CardsData);for(var e=0;e<this.CardsData.CardData.length;e++)if(t==this.CardsData.CardData[e].name)return;this.node.getChildByName("cardAttackAnimation").getComponent(r).play(A[t])}else console.log("card not found :: ",t)},s.updateEffect=function(t,e){switch(void 0===e&&(e=null),S.getInstance().setCurrentSelectedCard(t.Name),t.EffectType){case C.BUFF:var s=this.AddEffect(t.Effects,e);this.Effects.buff=[].concat(this.Effects.buff,s);break;case C.HEAL:var a=this.AddEffect(t.Effects,e);this.Effects.heal=[].concat(this.Effects.heal,a);break;case C.DOT:var n=this.AddEffect(t.Effects,e);this.Effects.dot=[].concat(this.Effects.dot,n);break;case C.TAUNT:var i=this.AddEffect(t.Effects,e);this.Effects.taunt=[].concat(this.Effects.taunt,i);break;case C.DEBUFF:var o=this.AddEffect(t.Effects,e);this.Effects.debuff=[].concat(this.Effects.debuff,o);break;case C.SETUP:var r=this.AddEffect(t.Effects,e);this.Effects.setup=[].concat(this.Effects.setup,r)}},s.heal_Dragon=function(t){var e=this;this.Loosers.Heal_Block>0?--this.Loosers.Heal_Block:(Object.values(this.node.getChildByName("cardAttackAnimation").getComponent(r)._nameToState).forEach((function(t){1==t.isPlaying&&e.pendingAnimation.push("allHealAnimation")})),this.HP+t>=this.CardsData.HP?this.HP=this.CardsData.HP:this.HP=this.HP+t,this.update_HP_View(),this.pendingAnimation.length||this.node.getChildByName("cardAttackAnimation").getComponent(r).play())},s.checkPending=function(){if(this.pendingAnimation.length){var t=this.pendingAnimation.pop();this.node.getChildByName("cardAttackAnimation").getComponent(r).play(t)}},s.Buff_Damage_Boost=function(t){switch(t.boostTarget){case y.SLF_TEAM:var e=S.getInstance().getFightingDragons(this.DragonUser).length;e-=B,this.Booster.DMG=this.Booster.DMG+e*t.boost}},s.updateRoundData=function(){for(var t,e=Object.keys(this.Effects),s=0;s<e.length;s++)for(var a=this.Effects[e[s]],n=0;n<a.length;n++){var i=a[n].status,o=a[n].duration>S.getInstance().getCurrentRound();if(!i||!o){switch(t=o?P.Add:P.Remove,e[s]){case T.Buff:this.Add_Del_Buff(a[n],t),a[n].status=!0;break;case T.Dot:this.Add_Del_Dot(a[n],t);break;case T.Setup:this.Add_Del_Setup(a[n],t),a[n].status=!0;break;case T.Heal:this.Add_Del_HealBuff(a[n],t);break;case T.Debuff:this.Add_Del_Debuff(a[n],t),a[n].status=!0}!o&&a.splice(n,1)&&--n}}},s.resetAllBuff=function(){this.Effects.buff.length=0,this.Effects.dot.length=0,this.Effects.setup.length=0,this.Effects.heal.length=0,this.Effects.debuff.length=0,this.resetDragonAbiitly()},s.Add_Del_Debuff=function(t,e){switch(t.type){case k.HEAL_BLK:this.Loosers.Heal_Block=t.turn;break;case k.FRZ_ENY:this.Loosers.FREZ.turn=t.turn,this.Loosers.FREZ.ref=v+parseFloat(t.boost);break;case k.DMG_BOOST:this.Loosers.DMG_BOOST.turn=t.turn,this.Loosers.DMG_BOOST.ref=v+parseFloat(t.boost);break;case k.DEC_SPD:if(e==P.Add){this.SPD=this.SPD*parseFloat(t.boost);break}this.SPD=this.CardsData.SPD}},s.Add_Del_HealBuff=function(t,e){switch(t.type){case k.INC_HEAL:if(e==P.Add)switch(t.boostTarget){case H.ENY_DMG:var s=.5*t.data.damage;this.heal_Dragon(s);break;case H.DMG:this.heal_Dragon(t.data.damage);break;case H.MAX_Value:var a=this.CardsData.HP*parseFloat(t.boost);this.heal_Dragon(a);break;case H.Value:this.heal_Dragon(t.boost)}break;case k.RM_DB:e==P.Add&&(t.boostTarget==R.ONE?this.Effects.debuff.length>0&&(this.Effects.debuff.length=this.Effects.debuff.length-1):t.count==R.ALL&&(this.Effects.debuff.length=0))}},s.Add_Del_Setup=function(t,e){switch(t.type){case k.ATK_BOOST:e==P.Add?this.ATK=this.ATK*(2-this.HP/this.CardsData.HP):this.ATK=this.CardsData.ATK}},s.Add_Del_Dot=function(t,e){switch(t.type){case k.DMG:this.Reduce_HP(t.amount)}},s.BuffEndedCheck=function(){this.updateRoundData()},s.Add_Del_Buff=function(t,e){switch(t.type){case k.ATK_BOOST:if(e==P.Add)switch(t.boost_Dependent){case H.Value:this.ATK=this.ATK*t.boost;break;case H.Enemy_Debuff:this.ATK=this.ATK*(1+t.data.ENY_DRG.Effects.debuff.length*parseFloat(t.boost))}else this.ATK=this.CardsData.ATK;break;case k.DMG_BOOST:e==P.Add?this.Buff_Damage_Boost(t):this.Booster.DMG=v;break;case k.SPD_BOOST:e==P.Add?this.SPD=Math.round(this.SPD*(v+parseFloat(t.boost))):this.SPD=this.CardsData.SPD;break;case k.DMG_RED:e==P.Add?this.Booster.DMG_RED=parseFloat(t.boost):this.Booster.DMG_RED=v;break;case k.TAUNT:this.Booster.Taunt=t.turn;break;case k.EVD_BUFF:this.Booster.Evade_Buff=t.turn;break;case k.DMG_REF:this.Booster.DMG_REF.turn=t.turn,this.Booster.DMG_REF.ref=parseFloat(t.boost);break;case k.INV:this.Booster.INV=t.turn}},s.Damage_Dragon=function(t,e){if(this.Booster.INV>0)--this.Booster.INV;else{if(t.Booster.DMG>1&&(e*=t.Booster.DMG),this.Booster.DMG_REF.turn>0){--this.Booster.DMG_REF.turn;var s=e*parseFloat(this.Booster.DMG_REF.ref);t.Damage_Dragon(this,s),e-=s}this.Booster.DMG_RED<1&&(e*=this.Booster.DMG_RED),this.Loosers.DMG_BOOST.turn>0&&(--this.Loosers.DMG_BOOST.turn,e*=this.Loosers.DMG_BOOST.ref),this.Loosers.FREZ.turn>0&&(--this.Loosers.FREZ.turn,e*=this.Loosers.FREZ.ref),this.Reduce_HP(e)}},s.Reduce_HP=function(t){if(t=Math.round(t),this.HP-t<=0){this.HP=0,this.update_HP_View(),S.getInstance().getRemovedDragons().push({name:this.node.name,userType:S.getInstance().getDragonUser(this.node.name)}),S.getInstance().removeDragon(this.node.name),this.resetAllBuff(),this.playDeadAnimation()}else{this.HP=this.HP-t;var e=this.node.getChildByName("Damage");e.getComponent(i).string=t+"",e.getComponent(r).play(),this.update_HP_View()}},s.playDeadAnimation=function(){this.node.children.forEach((function(t){t.active=!t.active}))},s.update_HP_View=function(){var t=this.HP/this.CardsData.HP;this.Cur_Hp_Label.string=""+Math.round(this.HP),this.Hp_Node.getComponent(d).progress=t},s.setDragonCards=function(t){for(var e,s=0;s<t.CardData.length;s++)(e=l(this.cardPrefab)).getComponent("powerCard").setDragonCard(this.node.getComponent(o).spriteFrame,t.CardData[s],this.node.name),e.name=this.node.name,this.DragonsCard.push(e)},s.changeProgressBarIcon=function(t){var e=this,s=t.species+t.type+"BarIcon";c.load("DragonScene/"+s+"/spriteFrame",h,(function(t,s){e.iconSprite.spriteFrame=s}))},s.enableOnlySpine=function(){console.log("Enable Only Called"),this.node.children.forEach((function(t){"spineDragon"!=t.name&&(t.active=!1)}))},e}(u)).prototype,"cardPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=p(K.prototype,"Hp_Node",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=p(K.prototype,"Max_Hp_Label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=p(K.prototype,"Cur_Hp_Label",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=p(K.prototype,"skeleton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=p(K.prototype,"iconSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=K))||I));e._RF.pop()}}}));

System.register("chunks:///_virtual/dragonBoard.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(e){"use strict";var r,t,n,a,o,i,c,l,s,g;return{setters:[function(e){r=e.cclegacy,t=e._decorator,n=e.Node,a=e.Sprite,o=e.Component},function(e){i=e.applyDecoratedDescriptor,c=e.inheritsLoose,l=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){g=e.TeamManager}],execute:function(){var u,p,d,f,m,y,D;r._RF.push({},"48efeMBhWlHh6xmkyvNDoEZ","dragonBoard",void 0);var h=t.ccclass,v=t.property;e("dragonBoard",(u=h("dragonBoard"),p=v({type:n}),d=v({type:a}),u((y=i((m=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,l(r,"DragonSelected",y,s(r)),l(r,"DragonImage",D,s(r)),r}c(r,e);var t=r.prototype;return t.setDragon=function(e){var r=g.getInstance().getUserDragonIndex(e);this.DragonImage.spriteFrame=r.getComponent(a).spriteFrame},t.toggleSelected=function(){this.DragonSelected.active=!this.DragonSelected.active},r}(o)).prototype,"DragonSelected",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(m.prototype,"DragonImage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/dragonDetails.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,i,r,a,o,s,l,g,d,c,u,h,p,C,m,y,D,f,b;return{setters:[function(t){e=t.cclegacy,n=t._decorator,i=t.Node,r=t.SpriteFrame,a=t.Label,o=t.Sprite,s=t.Button,l=t.tween,g=t.Vec3,d=t.instantiate,c=t.Animation,u=t.director,h=t.Color,p=t.Component},function(t){C=t.applyDecoratedDescriptor,m=t.inheritsLoose,y=t.initializerDefineProperty,D=t.assertThisInitialized},function(t){f=t.USER},function(t){b=t.TeamManager}],execute:function(){var B,S,v,w,L,N,F,I,k,x,P,z,A,G,_,U,R,M,O,T,E,H,V,j,K,W,q,J,Q,X,Y,Z,$,tt,et,nt,it;e._RF.push({},"81be3CCOPVOD7zGRrmkfnLL","dragonDetails",void 0);var rt=n.ccclass,at=n.property;t("dragonDetails",(B=rt("dragonDetails"),S=at({type:i}),v=at({type:i}),w=at({type:r}),L=at({type:r}),N=at({type:r}),F=at({type:a}),I=at({type:o}),k=at({type:i}),x=at({type:a}),P=at({type:r}),z=at({type:r}),A=at({type:i}),G=at({type:i}),_=at({type:i}),U=at({type:s}),R=at({type:s}),M=at({type:i}),B((E=C((T=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,y(e,"BackGround",E,D(e)),y(e,"cardLayout",H,D(e)),y(e,"Pico_Ice",V,D(e)),y(e,"Grunt_Fire",j,D(e)),y(e,"Oly_Space",K,D(e)),y(e,"nameLabel",W,D(e)),y(e,"DragonSprite",q,D(e)),y(e,"DetailsButton",J,D(e)),y(e,"PowerLabel",Q,D(e)),y(e,"FiltersSprite",X,D(e)),y(e,"SortBySprite",Y,D(e)),y(e,"BaseAbilities",Z,D(e)),y(e,"LearnedAbilities",$,D(e)),y(e,"DragonCards",tt,D(e)),y(e,"DragonRightButton",et,D(e)),y(e,"DragonLeftButton",nt,D(e)),y(e,"popUpLayout",it,D(e)),e.selectedDragonIndex=1,e.layout=null,e.powerCards=[],e.dragons=[],e.currentState=1,e.Stars_Move=null,e.animationDropPlayed=!0,e}m(e,t);var n=e.prototype;return n.start=function(){this.Stars_Move=this.BackGround.getChildByName("Stars"),l(this.Stars_Move).repeatForever(l().by(1,{position:new g(0,10,1)}).by(1,{position:new g(0,-10,1)})).start(),this.dragons=[].concat(b.getInstance().getDragons(f.Player));var t=this.dragons[this.selectedDragonIndex].getComponent("Dragon");this.DragonSprite.getComponent(o).spriteFrame=this.dragons[this.selectedDragonIndex].getComponent(o).spriteFrame,this.nameLabel.string=this.dragons[this.selectedDragonIndex].name,this.setPowerDragon(t);for(var e=0;e<t.DragonsCard.length;e++){var n=d(t.DragonsCard[e]);n.on(i.EventType.MOUSE_DOWN,this.cardSelected,this),n.Details=n.getChildByName("Custom").getChildByName("powerCard2").getChildByName("Label").getComponent(a).string,this.cardLayout.addChild(n),this.powerCards.push(n)}for(var r=0;r<this.dragons.length;r++)this.DragonCards.getChildByName("DragonConfirmCard"+r).getChildByName("Dragon").getComponent(o).spriteFrame=this.dragons[r].getComponent(o).spriteFrame;this.DetailsButton[0].getComponent(c).on("finished",this.onFinishedAnimation,this);var s=this.DetailsButton[0].getComponent(c);this.DetailsButton[0].getComponent(c).createState(s.clips[0],"reverse").wrapMode=36},n.cardSelected=function(t){var e=this;this.popUpLayout.getChildByName("CardAndDetail").getChildByName("Details").getChildByName("CardDetails").getComponent(a).string=t.target.Details,this.popUpLayout.getChildByName("CardAndDetail").getChildByName("Shadow").getChildByName("SelectedImage").getComponent(o).spriteFrame=t.target.getComponent(o).spriteFrame;var n=this.popUpLayout.getChildByName("Cancel");n.active=!1,l(this.cardLayout).to(.23,{scale:new g(.25,.25,.25)}).call((function(){e.cardLayout.active=!1,e.popUpLayout.setScale(.25,.25,.25)})).call((function(){l(e.popUpLayout).call((function(){e.popUpLayout.active=!0})).to(.25,{scale:new g(1,1,1)}).call((function(){n.active=!0})).start()})).start()},n.closePopUp=function(){var t=this,e=this.popUpLayout.getChildByName("Cancel");l(this.popUpLayout).call((function(){e.active=!1})).to(.23,{scale:new g(.25,.25,.25)}).call((function(){t.popUpLayout.active=!1,t.cardLayout.active=!0})).call((function(){l(t.cardLayout).to(.25,{scale:new g(1,1,1)}).start()})).start()},n.backButtonClick=function(){u.loadScene("Home")},n.leftArrowClick=function(){this.selectedDragonIndex>0&&this.setSelectedDragon(this.selectedDragonIndex-1)&&this.onDragonCardLeftClick()},n.rightArrowClick=function(){this.selectedDragonIndex<this.dragons.length-1&&this.setSelectedDragon(this.selectedDragonIndex+1)&&this.onDragonCardRightClick()},n.onFinished=function(t){1==this.selectedDragonIndex?this.setBackGorund(this.Pico_Ice):0==this.selectedDragonIndex?this.setBackGorund(this.Grunt_Fire):this.setBackGorund(this.Oly_Space),this.BackGround.getComponent(c).off("finished"),this.BackGround.getComponent(c).play("Fade_In")},n.setBackGorund=function(t){this.BackGround.getComponent(o).spriteFrame=t[0],this.BackGround.getChildByName("Stars").getComponent(o).spriteFrame=t[1],this.BackGround.getChildByName("Base").getComponent(o).spriteFrame=t[2]},n.setSelectedDragon=function(t){this.BackGround.getComponent(c).play("FadeOut");this.BackGround.getComponent(c).on("finished",this.onFinished,this);var e=this.dragons[t].getComponent("Dragon");this.setPowerDragon(e),this.DragonSprite.getComponent(o).spriteFrame=this.dragons[t].getComponent(o).spriteFrame,this.nameLabel.string=this.dragons[t].name;for(var n=0;n<e.DragonsCard.length;n++)this.powerCards[n].getComponent(o).spriteFrame=e.DragonsCard[n].getComponent(o).spriteFrame,this.powerCards[n].Details=e.DragonsCard[n].getChildByName("Custom").getChildByName("powerCard2").getChildByName("Label").getComponent(a).string;return this.selectedDragonIndex=t,!0},n.setPowerDragon=function(t){this.PowerLabel[0].string=t.HP,this.PowerLabel[1].string=t.ATK,this.PowerLabel[2].string=t.DEF,this.PowerLabel[3].string=t.INT,this.PowerLabel[4].string=t.SPD},n.onDetailsButtonClick=function(){var t=this.DetailsButton[0].getComponent(c);this.DetailsButton[0].active?t.play("detailsButtonDrop"):(this.DetailsButton[0].active=!0,this.DetailsButton[1].active=!1,t.play("reverse"))},n.onFinishedAnimation=function(){this.animationDropPlayed?(this.DetailsButton[0].active=!1,this.DetailsButton[1].active=!0):(this.DetailsButton[1].active=!1,this.DetailsButton[0].active=!0),this.animationDropPlayed=!this.animationDropPlayed},n.onFilterClick=function(t){for(var e=0;e<2;e++)if(t.target.getComponent(o).spriteFrame==this.FiltersSprite[e]){t.target.getComponent(o).spriteFrame=this.FiltersSprite[+!e];break}},n.onSortByClick=function(t){for(var e=0;e<2;e++)if(t.target.getComponent(o).spriteFrame==this.SortBySprite[e]){t.target.getComponent(o).spriteFrame=this.SortBySprite[+!e];break}},n.onLearnedAbilitiesClick=function(){this.BaseAbilities.active=!1,this.LearnedAbilities.active=!0,this.cardLayout.active=!1},n.onBaseAbilitiesClick=function(){this.BaseAbilities.active=!0,this.LearnedAbilities.active=!1,this.cardLayout.active=!0},n.onDragonCardLeftClick=function(){var t=this,e=this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).getSiblingIndex(),n=this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState-1)).getSiblingIndex();if(this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState-1)).setSiblingIndex(e),1==this.currentState){var i=this.DragonCards.getChildByName("DragonConfirmCard2").getSiblingIndex();this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(i),this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).setSiblingIndex(n)}else this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(n);this.currentState-=1;for(var r=0;r<this.DragonCards.children.length;r++){var a=this.DragonCards.getChildByName("DragonConfirmCard"+r),s=a.getChildByName("Transparency");2!=a.getSiblingIndex()?s.getComponent(o).color=new h(0,0,0,75):s.getComponent(o).color=new h(0,0,0,0),l(a).call((function(){t.DragonLeftButton.enabled=!1,t.DragonRightButton.enabled=!1})).by(.5,{position:new g(110,0,0)}).call((function(){t.DragonRightButton.enabled=!0,0!=t.currentState&&(t.DragonLeftButton.enabled=!0)})).start()}},n.onDragonCardRightClick=function(){var t=this,e=this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).getSiblingIndex(),n=this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).getSiblingIndex();if(this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).setSiblingIndex(e),0==this.currentState){var i=this.DragonCards.getChildByName("DragonConfirmCard2").getSiblingIndex();this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(i),this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+2)).setSiblingIndex(n)}else this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(n);this.currentState+=1;for(var r=0;r<this.DragonCards.children.length;r++){var a=this.DragonCards.getChildByName("DragonConfirmCard"+r),s=a.getChildByName("Transparency");2!=a.getSiblingIndex()?s.getComponent(o).color=new h(0,0,0,75):s.getComponent(o).color=new h(0,0,0,0),l(a).call((function(){t.DragonLeftButton.enabled=!1,t.DragonRightButton.enabled=!1})).by(.5,{position:new g(-110,0,0)}).call((function(){t.DragonLeftButton.enabled=!0,2!=t.currentState&&(t.DragonRightButton.enabled=!0)})).start()}},e}(p)).prototype,"BackGround",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=C(T.prototype,"cardLayout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=C(T.prototype,"Pico_Ice",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=C(T.prototype,"Grunt_Fire",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=C(T.prototype,"Oly_Space",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=C(T.prototype,"nameLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=C(T.prototype,"DragonSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=C(T.prototype,"DetailsButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=C(T.prototype,"PowerLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=C(T.prototype,"FiltersSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=C(T.prototype,"SortBySprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=C(T.prototype,"BaseAbilities",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=C(T.prototype,"LearnedAbilities",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=C(T.prototype,"DragonCards",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=C(T.prototype,"DragonRightButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=C(T.prototype,"DragonLeftButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=C(T.prototype,"popUpLayout",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T))||O));e._RF.pop()}}}));

System.register("chunks:///_virtual/DragonSequence.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var r,t,a,n,i,o,c,s,u,l,p;return{setters:[function(e){r=e.cclegacy,t=e._decorator,a=e.Prefab,n=e.Node,i=e.instantiate,o=e.Sprite,c=e.Component},function(e){s=e.applyDecoratedDescriptor,u=e.inheritsLoose,l=e.initializerDefineProperty,p=e.assertThisInitialized}],execute:function(){var d,f,y,g,h,b,C;r._RF.push({},"640baX9qd9MQI1eD1A2fjrY","DragonSequence",void 0);var D=t.ccclass,v=t.property;e("DragonSequence",(d=D("DragonSequence"),f=v({type:a}),y=v({type:n}),d((b=s((h=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,l(r,"selectedCardPrefab",b,p(r)),l(r,"cardsLayout",C,p(r)),r.powerCards=[],r}u(r,e);var t=r.prototype;return t.start=function(){},t.addCard=function(e){var r=i(this.selectedCardPrefab);this.cardsLayout.addChild(r),this.powerCards.push(r),r.getChildByName("Dragon").getComponent(o).spriteFrame=e},r}(c)).prototype,"selectedCardPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=s(h.prototype,"cardsLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTeam.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts","./Utility.ts"],(function(t){"use strict";var a,e,n,r,o,i,s,c,g,l,f,u,h,p,d,D,m,T,v,C,y,E,_,A,P,I;return{setters:[function(t){a=t.cclegacy,e=t._decorator,n=t.Node,r=t.Prefab,o=t.UITransform,i=t.instantiate,s=t.Vec3,c=t.Vec2,g=t.tween,l=t.Component},function(t){f=t.applyDecoratedDescriptor,u=t.inheritsLoose,h=t.initializerDefineProperty,p=t.assertThisInitialized},function(t){d=t.USER,D=t.Card_Type,m=t.Traget,T=t.Reach,v=t.Damage_Type,C=t.Max_Base,y=t.Damage,E=t.Game_Dynamics,_=t.Effect_Target},function(t){A=t.TeamManager},function(t){P=t.getCloseNode,I=t.RNG}],execute:function(){var N,k,S,R,U,b,w;a._RF.push({},"258db3zLZtN74UUzQadm6Jx","DragonTeam",void 0);var M=e.ccclass,B=e.property;t("DragonTeam",(N=M("DragonTeam"),k=B({type:n}),S=B({type:r}),N((b=f((U=function(t){function a(){for(var a,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return a=t.call.apply(t,[this].concat(n))||this,h(a,"DragonTurn",b,p(a)),h(a,"AttackPrfab",w,p(a)),a.cardsData=[],a.parentSCRT=null,a.DragonTurn_Scr=null,a.curCard=0,a.CardsArray=[],a.AttackAnim=null,a.tempMulti=void 0,a.particleCount=void 0,a.particleSpeed=1e3,a.curCardDrawn=void 0,a.AttackTraget=null,a}u(a,t);var e=a.prototype;return e.start=function(){this.DragonTurn_Scr=this.DragonTurn.getComponent("DragonTurn"),this.parentSCRT=this.node.parent.getComponent("gamePlay"),this.setupDragons(d.Player,200,100),this.setupDragons(d.Computer,200,100)},e.setUpCardsRound=function(t){var a=this;void 0===t&&(t=null),t&&(this.cardsData=t);for(var e=A.getInstance().getRemovedDragons(),n=function(t){a.cardsData.forEach((function(n){n.dragonName==e[t].name&&a.DragonTurn_Scr.deleteCardsByDragonName(n.dragonName)})),a.cardsData.filter((function(a){return a.dragonName!=e[t].name}))},r=0;r<e.length;r++)n(r);if(this.cardsData.length){var o=this.cardsData.shift();this.curCardDrawn=o.cardData.Name,this.drawCard(o.dragonName,o.cardData)}else this.parentSCRT.resetCountdown()},e.setupDragons=function(t,a,e){var n=[];t==d.Computer||(a=-a);var r=a,i=-.14*this.node.getComponent(o).height;n=A.getInstance().getDragons(t);for(var s=0;s<n.length;s++)this.node.addChild(n[s]),n[s].setPosition(r,i,1),s%2!=0?i-=e:i+=e,r+=a},e.moveParticle=function(t,a,e,n){var r=i(this.AttackPrfab);this.node.addChild(r),r.position=new s(t[0][0],t[0][1],0),this.tempMulti=t,this.particleCount=1,this.moveToNextPoint(r,t,1,a,e,n)},e.moveToNextPoint=function(t,a,e,n,r,o){var i=this,l=this.distBtw2Points(new c(a[e-1][0],a[e-1][1]),new c(a[e][0],a[e][1]))/this.particleSpeed,f=a[e-1][0]-a[e][0],u=a[e-1][1]-a[e][1],h=180*Math.atan2(f,u)/Math.PI;g(t).to(l,{position:new s(a[e][0],a[e][1],0),angle:-1*h+90}).call((function(){++e<a.length?i.moveToNextPoint(t,a,e,n,r,o):(r.getComponent("Dragon").Damage_Dragon(n.getComponent("Dragon"),o),r.getComponent("Dragon").playCardAnimation(i.curCardDrawn),t.destroy(),i.AttackTweening(n))})).start()},e.distBtw2Points=function(t,a){var e=t.x-a.x,n=t.y-a.y;return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))},e.getPoints=function(t,a,e,n){var r=s.distance(t.position,a.position)/2,o=(t.position.x+a.position.x)/2,i=(t.position.y+a.position.y)/2,c=[];if(e==d.Player)for(var g=180;g>0;g-=20){var l=o+r*Math.cos(.0174533*g),f=i+r*Math.sin(.0174533*g);c.push([l,f])}else for(var u=0;u<180;u+=20){var h=o+r*Math.cos(.0174533*u),p=i+r*Math.sin(.0174533*u);c.push([h,p])}this.moveParticle(c,t,a,n)},e.validate_Target=function(t,a){for(var e=A.getInstance().getDragons(t),n=0;n<e.length;n++){var r=e[n].getComponent("Dragon");if(r.Booster.Taunt>0)return--r.Booster.Taunt,e[n]}return a},e.AttackTweening=function(t,a){if(void 0===a&&(a=null),this.AttackTraget=a||this.AttackTraget,0!=this.AttackTraget.length){var e=this.AttackTraget.pop(),n=e.eny,r=(n.getPosition(),t.getPosition(),A.getInstance().getDragonUser(t.name));this.getPoints(t,n,r,e.damage)}else this.setUpCardsRound()},e.playAniamtion=function(t,a,e){var n=this;e?this.AttackTweening(t,a):g(t).delay(1).call((function(){n.setUpCardsRound()})).start()},e.drawCard=function(t,a){if(null==A.getInstance().getDragonUser(t))return this.DragonTurn_Scr.removeCard(t),void this.setUpCardsRound();var e=A.getInstance().getDragonUser(t),n=this.node.getChildByName(t),r=n.getComponent("Dragon"),o=A.getInstance().getDragons(Math.abs(e-1));if(0==o.length)return this.DragonTurn_Scr.removeCard(t),void this.setUpCardsRound();var i=P(o,n),s=null;if(a.CardType==D.Attack)if(a.Target==m.ENY){var c=[];if(a.Reach==T.ST)s=(i=this.validate_Target(Math.abs(e-1),i)).getComponent("Dragon"),c.push({eny:i,damage:0});else if(a.Reach==T.AOE)for(var g=0;g<o.length;g++)c.push({eny:o[g],damage:0});for(var l=0;l<c.length;l++){var f=0;a.DamageType==v.PHY?f=this.PhysicalAttack(r,c[l].eny.getComponent("Dragon"),a):a.DamageType==v.SKL&&(f=this.SkillBasedAttack(r,c[l].eny.getComponent("Dragon"),a)),c[l].damage=f}this.playAniamtion(n,c,!0)}else a.Target==m.SLF&&I(0,100)<a.chance&&(this.Effect_Update(s,r,a,{}),console.log("Check1",a.Name),r.BuffEffect(a.Name),this.playAniamtion(n,[i],!1));else a.CardType==D.Defense?(s=i.getComponent("Dragon"),this.Effect_Update(s,r,a,{}),console.log("Check2",a.Name),r.BuffEffect(a.Name),this.playAniamtion(n,[i],!1)):a.CardType==D.Heal&&(s=i.getComponent("Dragon"),this.Effect_Update(s,r,a,{}),console.log("Check3",a.Name),r.BuffEffect(a.Name),this.playAniamtion(n,[i],!1));this.DragonTurn_Scr.removeCard(t)},e.SkillBasedAttack=function(t,a,e){var n=t.INT/C.INIT+t.ATK/C.ATK-(a.HP/C.HP+a.INT/C.INIT),r=parseFloat(e.Damage)+e.Damage*n,o=this.DragonAttackEvasion(t,a);I(0,100)<o.prob?r*=y.EVADED:I(0,100)<E.CRIICAL_HIT_PROB&&(r=r*y.CRITICAL_HIT*o.evn_Penalty);var i=r*o.evn_Penalty;return I(0,100)<e.chance&&this.Effect_Update(a,t,e,{damage:r,ATK_DRG:t,ENY_DRG:a}),i},e.PhysicalAttack=function(t,a,e){var n=t.SPD/C.SPD+t.ATK/C.ATK-(a.HP/C.HP+a.DEF/C.DEF),r=parseFloat(e.Damage)+e.Damage*n,o=this.DragonAttackEvasion(t,a);I(0,100)<o.prob?r*=y.EVADED:I(0,100)<E.CRIICAL_HIT_PROB&&(r=r*y.CRITICAL_HIT*o.evn_Penalty);var i=r*o.evn_Penalty;return I(0,100)<e.chance&&this.Effect_Update(a,t,e,{damage:r,ATK_DRG:t,ENY_DRG:a}),i},e.Effect_Update=function(t,a,e,n){switch(e.EffectTarget){case _.SLF:console.log("Self CardData",e),a.updateEffect(e,n);break;case _.TEAM:console.log("Team CardData",e),a.updateEffect(e,n);break;case _.MULT:for(var r=0;r<e.Effects.length;r++)e.EffectTarget=e.Effects[r].effectTarget,this.Effect_Update(t,a,e,n);break;case _.ENY_TEAM:for(var o=A.getInstance().getFightingDragons(t.DragonUser),i=0;i<o.length;i++)o[i].Data.updateEffect(e,n);break;case _.SLF_TEAM:for(var s=A.getInstance().getFightingDragons(a.DragonUser),c=0;c<s.length;c++)s[c].Data.updateEffect(e,n);break;case _.ALY_LOW_HP:A.getInstance().get_Dragon_LowHP(a.DragonUser).Data.updateEffect(e,n);break;case _.ENY:t.updateEffect(e,n)}},e.DragonAttackEvasion=function(t,a){var e=a.SPD/C.SPD*(a.INT/C.INIT),n=t.SPD/C.SPD*(t.INT/C.INIT),r=1;a.Booster.EVD_BUFF>0&&(--a.Booster.EVD_BUFF,n*=y.EVADE_INC,r=y.EVADE_PENALTY);var o=e-n+e,i=Math.max(0,o);return{prob:i*=E.EVASION_COEFFICIENT,evn_Penalty:r}},a}(l)).prototype,"DragonTurn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=f(U.prototype,"AttackPrfab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=U))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTurn.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var r,t,a,n,i,o,s,u,d,l,p,c,y,f,g;return{setters:[function(e){r=e.cclegacy,t=e._decorator,a=e.Prefab,n=e.Node,i=e.instantiate,o=e.resources,s=e.SpriteFrame,u=e.Sprite,d=e.Component},function(e){l=e.applyDecoratedDescriptor,p=e.inheritsLoose,c=e.initializerDefineProperty,y=e.assertThisInitialized},function(e){f=e.USER},function(e){g=e.TeamManager}],execute:function(){var h,m,C,b,L,v,D,P,S,B,F;r._RF.push({},"05968nhrBhLgJjoSAo7ULvA","DragonTurn",void 0);var N=t.ccclass,T=t.property;e("DragonTurn",(h=N("DragonTurn"),m=T({type:a}),C=T({type:a}),b=T({type:n}),L=T({type:n}),h((P=l((D=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return r=e.call.apply(e,[this].concat(a))||this,c(r,"DragonFrame",P,y(r)),c(r,"CardsBackPrefab",S,y(r)),c(r,"PlayerLayout",B,y(r)),c(r,"ComputerLayout",F,y(r)),r.speedCards=[],r}p(r,e);var t=r.prototype;return t.start=function(){},t.onLoad=function(){this.addCardOnLayout()},t.addCardOnLayout=function(){for(var e=g.getInstance().getDragonsSpeedOrder(),r=0;r<e.length;r++)e[r].user==f.Player?this.supportingUISetup(e[r].Node,r,f.Player):this.supportingUISetup(e[r].Node,r,f.Computer)},t.changeSiblingIndex=function(){},t.supportingUISetup=function(e,r,t){var a=i(this.DragonFrame);f.Player==t?this.PlayerLayout.addChild(a):this.ComputerLayout.addChild(a),o.load("DragonFrames/"+e.name.split(" ").join("")+"/spriteFrame",s,(function(e,r){a.getChildByName("Dragon").getComponent(u).spriteFrame=r})),a.name=e.name},t.setCard=function(e,r){var t=(e==f.Player?this.PlayerLayout:this.ComputerLayout).getChildByName(r).getChildByName("CardSelected"),a=i(this.CardsBackPrefab);t.addChild(a),a.name=r,this.speedCards.push(a)},t.removeCard=function(e){for(var r=this.speedCards.length-1;r>=0;r--)if(e===this.speedCards[r].name){this.speedCards[r].destroy();break}},t.deleteCardsByDragonName=function(e){for(var r=0;r<this.speedCards.length;r++)e===this.speedCards[r].name&&this.speedCards[r].destroy()},t.addSelectedCard=function(e){},r}(d)).prototype,"DragonFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=l(D.prototype,"CardsBackPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=l(D.prototype,"PlayerLayout",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=l(D.prototype,"ComputerLayout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=D))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameEnter.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var n,t,a,r,o,i,s,l,c,u,g,p,D,m,f;return{setters:[function(e){n=e.cclegacy,t=e._decorator,a=e.Node,r=e.Prefab,o=e.JsonAsset,i=e.AudioSource,s=e.director,l=e.instantiate,c=e.Component},function(e){u=e.applyDecoratedDescriptor,g=e.inheritsLoose,p=e.initializerDefineProperty,D=e.assertThisInitialized},function(e){m=e.USER},function(e){f=e.TeamManager}],execute:function(){var d,h,b,y,P,v,S,C,A,E,G;n._RF.push({},"475d1TEdZtD6ophL8hKJd1X","GameEnter",void 0);var w=t.ccclass,z=t.property;e("GameEnter",(d=w("GameEnter"),h=z(a),b=z(a),y=z(r),P=z(o),d((C=u((S=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,p(n,"UserDragons",C,D(n)),p(n,"AIDragons",A,D(n)),p(n,"DragonPrefab",E,D(n)),p(n,"DragonsData",G,D(n)),n.AS=null,n}g(n,e);var t=n.prototype;return t.start=function(){this.getRandomDragons(),this.AS=this.node.getComponent(i),f.getInstance().resetRemovedDragons(),s.preloadScene("GamePlay")},t.getRandomDragons=function(){for(var e=this.DragonsData.json,n=0;n<3;n++){var t=l(this.DragonPrefab);t.name=n+"";var a=t.getComponent("Dragon");a.setDragon(e.Data[n],m.Player),a.enableOnlySpine(),this.setDragonPosition(m.Player,t,n)}for(var r=0;r<3;r++){var o=l(this.DragonPrefab);o.name=r+"";var i=o.getComponent("Dragon");i.setDragon(e.Data[3+r],m.Computer),i.enableOnlySpine(),this.setDragonPosition(m.Computer,o,r)}},t.setDragonPosition=function(e,n,t){this.UserDragons.addChild(n);var a=-300-200*t;a=e==m.Player?a:Math.abs(a),1!=t?n.setPosition(a,-300,1):n.setPosition(a,-175,1)},t.Show_Dragons=function(){f.getInstance().setCardExecuting(!1),s.loadScene("GamePlay")},t.ExitGamePlay=function(){s.loadScene("Home")},t.update=function(e){},t.onDestroy=function(){f.getInstance().setGameMusicCurrentTime(this.AS.currentTime)},n}(c)).prototype,"UserDragons",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=u(S.prototype,"AIDragons",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=u(S.prototype,"DragonPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=u(S.prototype,"DragonsData",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts","./CardsControl.ts","./DragonTeam.ts","./DragonTurn.ts"],(function(e){"use strict";var t,n,r,a,o,i,u,s,d,c,l,g,p,C,h,f,m,y,D;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Node,a=e.Label,o=e.CCInteger,i=e.AudioSource,u=e.Animation,s=e.director,d=e.Component},function(e){c=e.applyDecoratedDescriptor,l=e.inheritsLoose,g=e.initializerDefineProperty,p=e.assertThisInitialized},function(e){C=e.Round_INC,h=e.USER},function(e){f=e.TeamManager},function(e){m=e.CardsControl},function(e){y=e.DragonTeam},function(e){D=e.DragonTurn}],execute:function(){var b,v,w,S,R,E,I,T,z,L,H,P,_,B,A,F,N,U,k,G,x,M,O;t._RF.push({},"6a4daXUUPZFb4JoUBzDIyUb","GamePlay",void 0);var j=n.ccclass,J=n.property;e("gamePlay",(b=j("gamePlay"),v=J({type:m}),w=J({type:D}),S=J({type:y}),R=J({type:r}),E=J({type:a}),I=J({type:o}),T=J({type:a}),z=J({type:a}),L=J(r),H=J({type:r}),b((B=c((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,g(t,"powerCards",B,p(t)),g(t,"dragonTurn",A,p(t)),g(t,"DragonsTeam",F,p(t)),g(t,"EndRoundButton",N,p(t)),g(t,"countDown",U,p(t)),g(t,"RoundDurationSec",k,p(t)),g(t,"EnergyLeftLabel",G,p(t)),g(t,"CurRound",x,p(t)),g(t,"SelectedCard",M,p(t)),g(t,"HoverCard",O,p(t)),t.cardData=[],t.counter=0,t.AS=null,t}l(t,e);var n=t.prototype;return n.start=function(){this.startCountDown(),f.getInstance().setCurrentRound(C),this.CurRound.string=""+f.getInstance().getCurrentRound(),this.powerCards.checkCurrentCards(),this.AS=this.node.getComponent(i),this.AS.currentTime=f.getInstance().getGameMusicCurrentTime()},n.startGameplay=function(){},n.startCountDown=function(){this.powerCards.checkforRemovedDragons(),this.counter=this.RoundDurationSec,this.schedule(this.decreaseCountdown,1,this.RoundDurationSec,0),this.updateEnergyLabel()},n.resetCountdown=function(){this.update_Dragons_Data(),f.getInstance().updateEnergy(),this.updateEnergyLabel(),this.startCountDown(),this.EndRoundButton.active=!0,f.getInstance().setCardExecuting(!1)},n.update_Dragons_Data=function(){for(var e=f.getInstance().getDragonsSpeedOrder(),t=0;t<e.length;t++)e[t].Data.BuffEndedCheck();f.getInstance().sortDragons(),f.getInstance().setCurrentRound(C),this.CurRound.string=""+f.getInstance().getCurrentRound()},n.setSelectedCard=function(e,t,n,r,a){this.SelectedCard.parent.active=!0;var o=this.SelectedCard.getComponent(u);o.play(o.clips[2].name);var i=this.SelectedCard.getComponent("powerCard");i.setCardSprite(e),i.setCardEnergy(a),i.setCardData(t,n,r)},n.deactivateSelectedCard=function(){this.SelectedCard.parent.active=!1;var e=this.SelectedCard.getComponent(u);e.play(e.clips[3].name)},n.updateAndShowHoveredCard=function(e,t,n,r){void 0===r&&(r=""),this.HoverCard.active=!0,this.HoverCard.getChildByName("Cards").getComponent("Cards").updateHoveredCard(e,t,n,r)},n.hideHoverCard=function(){this.HoverCard.active=!1},n.cardSelected=function(e,t){this.cardData.push({dragonName:e,cardData:t}),this.dragonTurn.setCard(h.Player,e),this.powerCards.updateCurrentCards(t),this.updateEnergyLabel()},n.updateEnergyLabel=function(){this.EnergyLeftLabel.string=""+f.getInstance().getCurrentEnegy()},n.ExitGamePlay=function(){f.getInstance().resetCurrentRound(),f.getInstance().setDefaultEnergy(),s.loadScene("Home")},n.decreaseCountdown=function(){this.countDown.string=""+this.counter,--this.counter,this.counter<=0&&this.roundEnded()},n.roundEnded=function(){f.getInstance().setCardExecuting(!0),this.EndRoundButton.active=!1,this.unschedule(this.decreaseCountdown),f.getInstance().setFightingDragons(),this.powerCards.RandomCardsSetup(h.Player),this.powerCards.RandomCardsSetup(h.Computer),this.powerCards.checkCurrentCards(),this.selectCardsForComputer(),this.cardData.length>0?this.DragonsTeam.setUpCardsRound(this.cardData):this.resetCountdown()},n.selectCardsForComputer=function(){var e=this,t=this.powerCards.cardsToSelectForComputer();if(t){for(var n=0;n<t.length;n++)this.dragonTurn.setCard(h.Computer,t[n].dragonName);var r=f.getInstance().getDragonsSpeedOrder();t.forEach((function(t){return e.cardData.push(t)}));for(var a=0,o=0;o<r.length;o++)for(var i=r[o].Node.name,u=0;u<this.cardData.length;u++)if(this.cardData[u].dragonName==i){var s=this.cardData[a];this.cardData[a]=this.cardData[u],this.cardData[u]=s,a++}}},t}(d)).prototype,"powerCards",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=c(_.prototype,"dragonTurn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=c(_.prototype,"DragonsTeam",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=c(_.prototype,"EndRoundButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=c(_.prototype,"countDown",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=c(_.prototype,"RoundDurationSec",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),G=c(_.prototype,"EnergyLeftLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=c(_.prototype,"CurRound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=c(_.prototype,"SelectedCard",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=c(_.prototype,"HoverCard",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));t._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScript.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,o,a,i,r,u,l,s,c,g,h,p,f,m,d,b;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.JsonAsset,a=t.Prefab,i=t.CCInteger,r=t.Node,u=t.tween,l=t.Vec3,s=t.instantiate,c=t.director,g=t.Component},function(t){h=t.applyDecoratedDescriptor,p=t.inheritsLoose,f=t.initializerDefineProperty,m=t.assertThisInitialized},function(t){d=t.USER},function(t){b=t.TeamManager}],execute:function(){var y,D,v,P,B,C,M,A,w,_,S,E,L,I,N,z,R;e._RF.push({},"ab569UGGgpNRJjBmXgcwbDE","HomeScript",void 0);var T=n.ccclass,k=n.property;t("HomeScript",(y=T("HomeScript"),D=k({type:o}),v=k({type:a}),P=k({type:a}),B=k({type:a}),C=k({type:i}),M=k({type:a}),A=k(r),y((S=h((_=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,f(e,"DragonsData",S,m(e)),f(e,"DragonPrefab",E,m(e)),f(e,"comingSoonPrefab",L,m(e)),f(e,"DragonDetails",I,m(e)),f(e,"DragonsCount",N,m(e)),f(e,"Debug_Menu",z,m(e)),f(e,"AllButtonLayout",R,m(e)),e.debugg_Menu=null,e.setCard=2,e.setParticularDragon=!1,e.onButtonMouseEnter=function(t){u(t.target).to(.3,{scale:new l(1.2,1.2,1)}).start()},e.onButtonMouseLeave=function(t){u(t.target).to(.3,{scale:new l(1,1,1)}).start()},e}p(e,t);var n=e.prototype;return n.start=function(){var t=this.getRandomDragons();b.getInstance().setDragons(t[d.Computer],d.Computer),b.getInstance().setDragons(t[d.Player],d.Player),b.getInstance().setFightingDragons(),b.getInstance().animated||(this.node.getChildByName("PlayDemo").setPosition(0,-726.25,0),this.AllButtonLayout.children.forEach((function(t){t.setPosition(0,425,0)})),this.AnimatePlayDemo(),this.AnimateAllButtonLayout(this.AllButtonLayout.children,180,0)),this.rubberAnimation(),this.registerButtonAnimation()},n.registerButtonAnimation=function(){var t=this;this.AllButtonLayout.children.forEach((function(e){e.on(r.EventType.MOUSE_ENTER,t.onButtonMouseEnter),e.on(r.EventType.MOUSE_LEAVE,t.onButtonMouseLeave)}))},n.rubberAnimation=function(){u(this.node.getChildByName("PlayDemo")).repeatForever(u(this.node.getChildByName("PlayDemo")).delay(3).to(.2,{scale:new l(.55,.45,1)}).to(.2,{scale:new l(.5,.5,1)})).start()},n.AnimatePlayDemo=function(){u(this.node.getChildByName("PlayDemo")).to(.3,{position:new l(0,-200,0)}).to(.2,{position:new l(0,-283.5,0)}).start()},n.AnimateAllButtonLayout=function(t,e,n){var o=this;if(3!=n){var a=t[0].getPosition();u(a).to(.3,new l(e,0,1),{onUpdate:function(e,o){for(var a=0;a<t.length-n;a++)t[a].position=e},easing:"sineIn"}).call((function(){o.AnimateAllButtonLayout(t,e-180,n+1)})).start()}else b.getInstance().animated=!0},n.Debugg_Menu=function(){this.debugg_Menu?this.debugg_Menu.active=!0:(this.debugg_Menu=s(this.Debug_Menu),this.node.addChild(this.debugg_Menu))},n.removeDebuggMenu=function(){this.debugg_Menu&&(this.node.removeChild(this.debugg_Menu),this.debugg_Menu=null)},n.LoadGamePlay=function(t){u(t.target).delay(.1).to(.3,{position:new l(0,-726.5,0)}).call((function(){c.loadScene("GameEnter")})).start()},n.getRandomDragons=function(){for(var t=this.DragonsData.json,e=(Array.apply(null,{length:t.Data.length}).map(Number.call,Number),[]),n=[],o=null,a=null,i=0;i<2*this.DragonsCount;i++)i<3?(a=(o=s(this.DragonPrefab)).getComponent("Dragon"),e.push(o),a.setDragon(t.Data[i],d.Player)):(a=(o=s(this.DragonPrefab)).getComponent("Dragon"),n.push(o),a.setDragon(t.Data[i],d.Computer));return[n,e]},n.Show_Dragons=function(){c.loadScene("Inventory")},n.backButtonclick=function(t,e){var n=this.node.parent.getChildByName(e);n.active=!n.active,this.node.active=!this.node.active},n.InvntoryClick=function(){this.node.addChild(s(this.comingSoonPrefab))},n.onStartBattleButtonClick=function(){this.node.addChild(s(this.comingSoonPrefab))},n.randomInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e}(g)).prototype,"DragonsData",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=h(_.prototype,"DragonPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=h(_.prototype,"comingSoonPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=h(_.prototype,"DragonDetails",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=h(_.prototype,"DragonsCount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),z=h(_.prototype,"Debug_Menu",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=h(_.prototype,"AllButtonLayout",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_))||w));e._RF.pop()}}}));

System.register("chunks:///_virtual/Inventory.ts",["cc","./CardManager.ts","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,l,d,c,u,g,h,f,p,C,m,b,y,S,I,B,D;return{setters:[function(e){t=e.cclegacy,n=e._decorator,r=e.Node,a=e.Label,i=e.Sprite,o=e.Button,s=e.ProgressBar,l=e.AudioSource,d=e.resources,c=e.SpriteFrame,u=e.Widget,g=e.UITransformComponent,h=e.Animation,f=e.tween,p=e.Vec3,C=e.director,m=e.Component},function(e){b=e.CardManager},function(e){y=e.applyDecoratedDescriptor,S=e.inheritsLoose,I=e.initializerDefineProperty,B=e.assertThisInitialized},function(e){D=e.TeamManager}],execute:function(){var v,w,A,P,N,x,k,z,F,_,T,V,O,L,G,H,R,M,E,U,W,K,j,J,Z,q,Q,X,Y,$,ee,te,ne,re,ae,ie,oe,se,le,de,ce,ue,ge,he,fe,pe,Ce,me,be,ye,Se,Ie,Be,De,ve,we,Ae,Pe,Ne;t._RF.push({},"5ac8djtsWdH44V4slZ1S2Vd","Inventory",void 0);var xe=n.ccclass,ke=n.property;e("Inventory",(v=xe("Inventory"),w=ke(r),A=ke(r),P=ke(r),N=ke(r),x=ke(r),k=ke(r),z=ke(r),F=ke(r),_=ke(a),T=ke(i),V=ke(r),O=ke(o),L=ke(o),G=ke(i),H=ke(s),R=ke(a),M=ke(i),E=ke(i),U=ke(i),W=ke(r),K=ke(r),j=ke(r),J=ke(a),Z=ke(a),q=ke(a),Q=ke(a),X=ke(a),Y=ke(r),v((te=y((ee=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,I(t,"learnedNode",te,B(t)),I(t,"learnedSelected",ne,B(t)),I(t,"baseNode",re,B(t)),I(t,"baseSelected",ae,B(t)),I(t,"cards",ie,B(t)),I(t,"cardsCointainter",oe,B(t)),I(t,"detailCardContainter",se,B(t)),I(t,"detailCardNode",le,B(t)),I(t,"cardDetailText",de,B(t)),I(t,"dragonNameSprite",ce,B(t)),I(t,"dragonNode",ue,B(t)),I(t,"dragonLeftButton",ge,B(t)),I(t,"dragonRightButton",he,B(t)),I(t,"progressBarIcon",fe,B(t)),I(t,"progressBar",pe,B(t)),I(t,"progressBarHP",Ce,B(t)),I(t,"sky_BG",me,B(t)),I(t,"sky_Base",be,B(t)),I(t,"sky_Stars",ye,B(t)),I(t,"dragonCardsOnPageView",Se,B(t)),I(t,"flagOpened",Ie,B(t)),I(t,"flagClosed",Be,B(t)),I(t,"dragonHP",De,B(t)),I(t,"dragonATK",ve,B(t)),I(t,"dragonDEF",we,B(t)),I(t,"dragonINT",Ae,B(t)),I(t,"dragonSPD",Pe,B(t)),I(t,"dragonCLASS",Ne,B(t)),t.gruntCardsArray=null,t.AlexCardsArray=null,t.PicoIceCardsArray=null,t.currentSelectIndex=1,t.currentSelectedArray=null,t.animationDropPlayed=!0,t.dragonInfo=null,t.dragonsNameArray=["Grunt","Alexander","PicoIce"],t.AS=void 0,t}S(t,e);var n=t.prototype;return n.onLoad=function(){},n.start=function(){this.AS=this.node.getComponent(l),this.AS.currentTime=D.getInstance().getLobbyMusicCurrentTime()+.1,this.baseButtonCB(Event," "),this.currentSelectIndex=2,this.gruntCardsArray=[],this.gruntCardsArray=[],this.gruntCardsArray=[],this.currentSelectedArray=[];var e=this;b.getInstance().loadCardsData((function(t,n){n&&(e.loadCardsData(),e.changeDragonData())})),this.addReverseAnimation()},n.loadCardsData=function(){this.gruntCardsArray=b.getInstance().loadCardsDataWithName(this.dragonsNameArray[0]),this.AlexCardsArray=b.getInstance().loadCardsDataWithName(this.dragonsNameArray[1]),this.PicoIceCardsArray=b.getInstance().loadCardsDataWithName(this.dragonsNameArray[2])},n.updateUI=function(){this.updateCardUI(),this.updateNameBoard(),this.updatePageViewCardsData(),this.changeProgressBarIcon(),this.updateProgressBar(),this.changeDragonStats(),this.changeBackground(),this.loadSpineAnim(),this.updateDragonClass()},n.updateDragonClass=function(){var e=this;d.load("DragonClasses/"+this.dragonInfo.class+"/spriteFrame",c,(function(t,n){e.dragonCLASS.getComponent(i).spriteFrame=n}))},n.updateCardUI=function(){for(var e=0;e<this.currentSelectedArray.length;e++){var t=this.currentSelectedArray[e];this.cards[e].getComponent("Cards").setCardData(t,this)}},n.update=function(e){},n.learnedButtonCB=function(e,t){this.resetBaseSelectedState(),this.learnedSelected.active=!0,this.detailCardContainter.active=!1,this.learnedNode.setSiblingIndex(1)},n.resetLearnedSelectedState=function(){this.learnedSelected.active=!1},n.baseButtonCB=function(e,t){this.resetLearnedSelectedState(),this.baseSelected.active=!0,this.cardsCointainter.active=!0,this.baseNode.setSiblingIndex(1)},n.resetBaseSelectedState=function(){this.baseSelected.active=!1},n.changeDragonData=function(){switch(this.currentSelectedArray=[],this.currentSelectIndex){case 1:this.currentSelectedArray=[].concat(this.gruntCardsArray);break;case 2:this.currentSelectedArray=[].concat(this.AlexCardsArray);break;case 3:this.currentSelectedArray=[].concat(this.PicoIceCardsArray)}this.dragonInfo=b.getInstance().getDragonInfo(this.dragonsNameArray[this.currentSelectIndex-1]),this.updateUI()},n.showCardDetails=function(e){var t=this.currentSelectedArray[e],n=t.Description;this.detailCardContainter.active=!0,this.detailCardNode.getComponent("Cards").setCardData(t,null),this.cardDetailText.string=n},n.showBaseDetailTab=function(){this.cardsCointainter.active=!0,this.detailCardContainter.active=!1},n.cardClickCB=function(e){this.cardsCointainter.active=!1,this.detailCardContainter.active=!0,this.showCardDetails(e)},n.updateNameBoard=function(){var e=this,t=this.dragonInfo.Name;t=t.replace(/\s/g,""),d.load("DragonScene/"+t+"/spriteFrame",c,(function(n,r){e.dragonNameSprite.spriteFrame=r,e.dragonNameSprite.getComponent(u).editorVerticalCenter="PicoIce"==t?-10:-15}))},n.updatePageViewCardsData=function(){for(var e=1;e<=3;e++){var t=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+e).getChildByName("Dragon").getComponent(i),n=b.getInstance().getDragonInfo(this.dragonsNameArray[e-1]);this.updateDragonImage(t,n)}},n.updateProgressBar=function(){var e=this.dragonInfo.HP;this.progressBar.totalLength=this.progressBar.node.getComponent(g).width,this.progressBar.progress=e/2e3},n.changeProgressBarIcon=function(){var e=this,t=this.dragonInfo.species+this.dragonInfo.type+"BarIcon";d.load("DragonScene/"+t+"/spriteFrame",c,(function(t,n){e.progressBarIcon.spriteFrame=n}))},n.updateDragonImage=function(e,t){var n=t.Name;n=n.replace(/\s/g,""),d.load("DragonImages/"+n+"/spriteFrame",c,(function(t,n){e.spriteFrame=n}))},n.dragonLeftCB=function(e,t){1!=this.currentSelectIndex&&(this.currentSelectIndex=this.currentSelectIndex-1,this.currentSelectIndex=this.currentSelectIndex<1?1:this.currentSelectIndex,this.changeBackground(),this.onPageLeftViewShift(),this.dragonLeftButton.enabled=!1)},n.dragonRightCB=function(e,t){3!=this.currentSelectIndex&&(this.currentSelectIndex=this.currentSelectIndex+1,this.currentSelectIndex=this.currentSelectIndex>3?3:this.currentSelectIndex,this.changeBackground(),this.onPageRightViewShift(),this.dragonRightButton.enabled=!1)},n.changeBackground=function(){this.sky_BG.getComponent(h).play("FadeOut");this.sky_BG.getComponent(h).on("finished",this.onBackroundAnimFinished,this)},n.onBackroundAnimFinished=function(e){var t=this;this.changeDragonData(),this.showBaseDetailTab();var n="DragonScene/"+this.dragonInfo.species+"_BG/";d.load(n+"BG_Sky/spriteFrame",c,(function(e,n){t.sky_BG.spriteFrame=n})),d.load(n+"BG_Stars/spriteFrame",c,(function(e,n){t.sky_Stars.spriteFrame=n})),d.load(n+"BG_Base/spriteFrame",c,(function(e,n){t.sky_Base.spriteFrame=n})),this.sky_BG.getComponent(h).off("finished"),this.sky_BG.getComponent(h).play("Fade_In")},n.onPageRightViewShift=function(){var e=this,t=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+(this.currentSelectIndex-1)).getSiblingIndex();this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+this.currentSelectIndex).setSiblingIndex(t);for(var n=1;n<=this.dragonCardsOnPageView.children.length;n++){var r=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+n);f(r).by(.5,{position:new p(-110,0,0)}).call((function(){e.dragonRightButton.enabled=!0})).start()}},n.onPageLeftViewShift=function(){var e=this,t=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+(this.currentSelectIndex+1)).getSiblingIndex();this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+this.currentSelectIndex).setSiblingIndex(t);for(var n=1;n<=this.dragonCardsOnPageView.children.length;n++){var r=this.dragonCardsOnPageView.getChildByName("DragonConfirmCard"+n);f(r).by(.5,{position:new p(110,0,0)}).call((function(){e.dragonLeftButton.enabled=!0})).start()}},n.addReverseAnimation=function(){this.flagClosed.getComponent(h).on("finished",this.onFinishedAnimation,this);var e=this.flagClosed.getComponent(h);this.flagClosed.getComponent(h).createState(e.clips[0],"reverse").wrapMode=36},n.onDetailsButtonClick=function(){var e=this.flagClosed.getComponent(h);this.flagClosed.active?e.play("detailsButtonDrop"):(this.flagClosed.active=!0,this.flagOpened.active=!1,e.play("reverse")),this.flagClosed.getParent().getComponent(o).enabled=!1,this.flagOpened.getComponent(o).enabled=!1},n.onFinishedAnimation=function(){this.animationDropPlayed?(this.flagClosed.active=!1,this.flagOpened.active=!0):(this.flagOpened.active=!1,this.flagClosed.active=!0),this.animationDropPlayed=!this.animationDropPlayed,this.flagClosed.getParent().getComponent(o).enabled=!0,this.flagOpened.getComponent(o).enabled=!0},n.changeDragonStats=function(){this.dragonHP.string=this.dragonInfo.HP,this.dragonATK.string=this.dragonInfo.ATK,this.dragonDEF.string=this.dragonInfo.DEF,this.dragonINT.string=this.dragonInfo.INT,this.dragonSPD.string=this.dragonInfo.SPD,this.progressBarHP.string=this.dragonHP.string},n.backButtonClick=function(){C.loadScene("Home")},n.loadSpineAnim=function(){var e=this.dragonNode.getChildByName("spineDragon");d.loadDir(this.dragonInfo.Spine,(function(t,n){for(var r=0;r<n.length;r++)if(n[r].skeletonJson){var a=Object.keys(n[r].skeletonJson.animations)[0],i=e.getComponent("sp.Skeleton");i.skeletonData=n[r],i.setAnimation(0,a,!0);break}}))},n.onDestroy=function(){D.getInstance().setLobbyMusicCurrentTime(this.AS.currentTime)},t}(m)).prototype,"learnedNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=y(ee.prototype,"learnedSelected",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=y(ee.prototype,"baseNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=y(ee.prototype,"baseSelected",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=y(ee.prototype,"cards",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=y(ee.prototype,"cardsCointainter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=y(ee.prototype,"detailCardContainter",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=y(ee.prototype,"detailCardNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=y(ee.prototype,"cardDetailText",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=y(ee.prototype,"dragonNameSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=y(ee.prototype,"dragonNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=y(ee.prototype,"dragonLeftButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=y(ee.prototype,"dragonRightButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=y(ee.prototype,"progressBarIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=y(ee.prototype,"progressBar",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=y(ee.prototype,"progressBarHP",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=y(ee.prototype,"sky_BG",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=y(ee.prototype,"sky_Base",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=y(ee.prototype,"sky_Stars",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=y(ee.prototype,"dragonCardsOnPageView",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=y(ee.prototype,"flagOpened",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=y(ee.prototype,"flagClosed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=y(ee.prototype,"dragonHP",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=y(ee.prototype,"dragonATK",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=y(ee.prototype,"dragonDEF",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=y(ee.prototype,"dragonINT",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=y(ee.prototype,"dragonSPD",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=y(ee.prototype,"dragonCLASS",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=ee))||$));t._RF.pop()}}}));

System.register("chunks:///_virtual/light_Animation.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var i,n,e,o,r,a,p,c,l;return{setters:[function(t){i=t.cclegacy,n=t._decorator,e=t.CCFloat,o=t.Animation,r=t.Component},function(t){a=t.applyDecoratedDescriptor,p=t.inheritsLoose,c=t.initializerDefineProperty,l=t.assertThisInitialized}],execute:function(){var s,u,m,h,d,f,y;i._RF.push({},"eebd6/JvWdGcKHoyGkkfnZx","light_Animation",void 0);var _=n.ccclass,g=n.property;t("light_Animation",(s=_("light_Animation"),u=g({type:e}),m=g({type:e}),s((f=a((d=function(t){function i(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return i=t.call.apply(t,[this].concat(e))||this,c(i,"Animation_Speed",f,l(i)),c(i,"Animation_Duration",y,l(i)),i}return p(i,t),i.prototype.start=function(){this.node.getComponent(o).clips[0].duration=this.Animation_Duration,this.node.getComponent(o).clips[0].speed=this.Animation_Speed,this.node.getComponent(o).play()},i}(r)).prototype,"Animation_Speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),y=a(d.prototype,"Animation_Duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),h=d))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyScene.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts","./Utility.ts"],(function(e){"use strict";var n,t,i,r,o,a,c,s,u,l,m,p;return{setters:[function(e){n=e.cclegacy,t=e._decorator,i=e.Node,r=e.AudioSource,o=e.Animation,a=e.Component},function(e){c=e.applyDecoratedDescriptor,s=e.inheritsLoose,u=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){m=e.TeamManager},function(e){p=e.RNG}],execute:function(){var h,y,b,d,f;n._RF.push({},"26d0dOH3EJHSrq0nPv4wYwP","LobbyScene",void 0);var A=t.ccclass,g=t.property;e("LobbyScene",(h=A("LobbyScene"),y=g(i),h((f=c((d=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,u(n,"arenaIceNode",f,l(n)),n.arenaIceAnimTimer=1200,n.timer=1,n.sound=null,n.AS=void 0,n}s(n,e);var t=n.prototype;return t.start=function(){this.AS=this.node.getComponent(r),this.AS.currentTime=m.getInstance().getLobbyMusicCurrentTime()+.1},t.update=function(e){this.timer++,this.timer%this.arenaIceAnimTimer==0&&(this.arenaIceAnimTimer=p(1700,3e3),this.showArenaIceAnimation())},t.showArenaIceAnimation=function(){var e=this.arenaIceNode.getComponent(o),n=e.clips[0].name;e.play(n)},t.onDestroy=function(){m.getInstance().setLobbyMusicCurrentTime(this.AS.currentTime)},n}(a)).prototype,"arenaIceNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/LobbySpeed.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,r,n,i,o,a,c,l;return{setters:[function(e){t=e.cclegacy,r=e._decorator,n=e.Node,i=e.Component},function(e){o=e.applyDecoratedDescriptor,a=e.inheritsLoose,c=e.initializerDefineProperty,l=e.assertThisInitialized}],execute:function(){var u,p,s,y,b,d,f;t._RF.push({},"44dd33Ran1KDYm2+QATQ9Ww","LobbySpeed",void 0);var m=r.ccclass,h=r.property;e("LobbySpeed",(u=m("LobbySpeed"),p=h({type:[n]}),s=h({type:[n]}),u((d=o((b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,c(t,"cloudAnim",d,l(t)),c(t,"PortalAnim",f,l(t)),t}return a(t,e),t.prototype.start=function(){},t}(i)).prototype,"cloudAnim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=o(b.prototype,"PortalAnim",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CardManager.ts","./Cards.ts","./Constants.ts","./TeamManager.ts","./CardsControl.ts","./comingSoon.ts","./Utility.ts","./Deer.ts","./DeerAniamtion.ts","./Details.ts","./Dragon.ts","./dragonBoard.ts","./dragonDetails.ts","./DragonSequence.ts","./DragonTeam.ts","./DragonTurn.ts","./GameEnter.ts","./GamePlay.ts","./HomeScript.ts","./Inventory.ts","./light_Animation.ts","./LobbyScene.ts","./LobbySpeed.ts","./PlayerProfile.ts","./powerCard.ts","./Settings.ts","./snowfall.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlayerProfile.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(t){"use strict";var e,n,o,i,r,a,c,l,u,s,p;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Node,i=t.tween,r=t.Vec3,a=t.Component},function(t){c=t.applyDecoratedDescriptor,l=t.inheritsLoose,u=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){p=t.TeamManager}],execute:function(){var f,y,h,v,m,B,P;e._RF.push({},"e9870AVsE5Oj4Gxf1Tq21RR","PlayerProfile",void 0);var C=n.ccclass,d=n.property;t("PlayerProfile",(f=C("PlayerProfile"),y=d(o),h=d(o),f((B=c((m=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,u(e,"ButtonLayout",B,s(e)),u(e,"ButtonContainer",P,s(e)),e.HomeScript=void 0,e}l(e,t);var n=e.prototype;return n.start=function(){var t=this;this.HomeScript=this.ButtonLayout.getComponent("HomeScript"),this.ButtonContainer.children.forEach((function(e){e.on(o.EventType.MOUSE_ENTER,t.onButtonMouseEnter),e.on(o.EventType.MOUSE_LEAVE,t.onButtonMouseLeave)})),p.getInstance().animated||(this.node.setScale(0,0,0),this.AnimatePlayerProfile())},n.onDetailsButtonClick=function(){this.HomeScript.InvntoryClick()},n.onPowerButtonClick=function(){this.HomeScript.InvntoryClick()},n.onAchievementsButtonClick=function(){this.HomeScript.InvntoryClick()},n.onAvatarHeadButtonClick=function(){this.HomeScript.InvntoryClick()},n.onButtonMouseEnter=function(t){i(t.target).to(.2,{scale:new r(1.1,1.1,1)}).start()},n.onButtonMouseLeave=function(t){i(t.target).to(.2,{scale:new r(1,1,1)}).start()},n.AnimatePlayerProfile=function(){i(this.node).to(.3,{scale:new r(.6,.6,1)}).to(.2,{scale:new r(.5,.5,1)}).start()},e}(a)).prototype,"ButtonLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=c(m.prototype,"ButtonContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=m))||v));e._RF.pop()}}}));

System.register("chunks:///_virtual/powerCard.ts",["cc","./rollupPluginModLoBabelHelpers.js","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var t,n,a,i,r,o,s,d,u,c,l,p,h,m,g;return{setters:[function(e){t=e.cclegacy,n=e._decorator,a=e.Sprite,i=e.Label,r=e.Node,o=e.SpriteFrame,s=e.resources,d=e.Animation,u=e.Component},function(e){c=e.applyDecoratedDescriptor,l=e.inheritsLoose,p=e.initializerDefineProperty,h=e.assertThisInitialized},function(e){m=e.CardAnimation},function(e){g=e.TeamManager}],execute:function(){var C,f,y,v,D,b,N,E,T,S,L,w,A;t._RF.push({},"0ea13WJTAZLNbhvmLMs99ge","powerCard",void 0);var _=n.ccclass,R=n.property;e("powerCard",(C=_("powerCard"),f=R({type:a}),y=R({type:i}),v=R({type:i}),D=R({type:i}),b=R({type:r}),C((T=c((E=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=e.call.apply(e,[this].concat(a))||this,p(t,"DragonImage",T,h(t)),p(t,"cardName",S,h(t)),p(t,"cardDetails",L,h(t)),p(t,"EnergyLabel",w,h(t)),p(t,"customLayout",A,h(t)),t.starsMove=null,t.ContentSize=null,t.parentNode=null,t.Name_Card=null,t.dragonName=null,t.animation_Runn=!1,t.CardData=null,t.cardWidth=0,t.cardHeight=0,t}l(t,e);var n=t.prototype;return n.start=function(){},n.setDragonCard=function(e,t,n){var a=this;void 0===n&&(n=""),this.loadRoomResource("DragonCards/"+t.Name+"/spriteFrame",o).then((function(e){a.setCardSprite(e)})).catch((function(e){a.customLayout.active=!0})),this.CardData=t,this.Name_Card=t.Name,this.dragonName=n,this.setCardEnergy(t.EnergyCost),this.setCardData(e,t.Name,t.Description),this.node.on(r.EventType.TOUCH_START,this.playAnimation,this),this.node.on(r.EventType.MOUSE_ENTER,this.onCardMove,this),this.node.on(r.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},n.setCardSprite=function(e){this.node.getComponent(a).spriteFrame=e},n.setCardEnergy=function(e){this.EnergyLabel.string=e},n.onCardMove=function(){if(!this.animation_Runn){this.node.getChildByName("HoverSprite").active=!0;var e="";this.CardData.Damage&&(e=this.CardData.Damage),this.parentNode.updateAndShowHoveredCard(this.node.getComponent(a).spriteFrame,this.cardDetails.string,this.EnergyLabel.string,e)}},n.onMouseLeave=function(){this.node.getChildByName("HoverSprite").active=!1,this.parentNode.hideHoverCard()},n.loadRoomResource=function(e,t){return new Promise((function(n,a){s.load(e,t,(function(e,t){e?a(e):n(t)}))}))},n.setCardData=function(e,t,n){this.DragonImage.spriteFrame=e,this.cardName.string=t,this.cardDetails.string=n},n.setParent=function(e){this.parentNode=e},n.switchCard=function(e){var t=e.getComponent("powerCard");this.setCardData(t.DragonImage.spriteFrame,t.cardName.string,t.cardDetails.string)},n.playAnimation=function(e){if(void 0===e&&(e=m.CardOut),e==m.CardIn)this.node.getComponent(d).play("CardIn");else{if(g.getInstance().getCardExecuting())return;if(!g.getInstance().UseEnergy(this.CardData.EnergyCost))return;this.parentNode.deactivateSelectedCard(),this.node.getComponent(d).play("CardOut");this.node.getComponent(d).on("finished",this.onFinished,this),this.node.off(r.EventType.TOUCH_START,this.playAnimation,this)}},n.onFinished=function(e){this.node.getComponent(d).off("finished"),this.parentNode.cardSelected(this.node.parent.name,this.CardData),this.node.on(r.EventType.TOUCH_START,this.playAnimation,this)},t}(u)).prototype,"DragonImage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=c(E.prototype,"cardName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=c(E.prototype,"cardDetails",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=c(E.prototype,"EnergyLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=c(E.prototype,"customLayout",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=E))||N));t._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["cc","./rollupPluginModLoBabelHelpers.js","./TeamManager.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,c,u;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Node,r=t.Label,o=t.Component},function(t){a=t.applyDecoratedDescriptor,l=t.inheritsLoose,s=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){u=t.TeamManager}],execute:function(){var p,g,y,f,h,m,b,S,v;e._RF.push({},"45f58ZloxZGMY/qMdk5C6LY","Settings",void 0);var C=i.ccclass,d=i.property;t("Settings",(p=C("Settings"),g=d(n),y=d(r),f=d(r),p((b=a((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,s(e,"ButtonLayout",b,c(e)),s(e,"Coins",S,c(e)),s(e,"Energy",v,c(e)),e.HomeScript=void 0,e}l(e,t);var i=e.prototype;return i.start=function(){this.HomeScript=this.ButtonLayout.getComponent("HomeScript"),this.initializeInitialValues()},i.onSettingButtonClick=function(){this.HomeScript.InvntoryClick()},i.initializeInitialValues=function(){this.Coins.string=u.getInstance().getCoins()+"",this.Energy.string=u.getInstance().getGameEnergy()+""},e}(o)).prototype,"ButtonLayout",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=a(m.prototype,"Coins",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=a(m.prototype,"Energy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));e._RF.pop()}}}));

System.register("chunks:///_virtual/snowfall.ts",["cc","./rollupPluginModLoBabelHelpers.js"],(function(i){"use strict";var t,o,s,n,l,e,a,h,r,d,p,v,c;return{setters:[function(i){t=i.cclegacy,o=i._decorator,s=i.Prefab,n=i.UITransform,l=i.instantiate,e=i.Sprite,a=i.Color,h=i.Animation,r=i.Component},function(i){d=i.applyDecoratedDescriptor,p=i.inheritsLoose,v=i.initializerDefineProperty,c=i.assertThisInitialized}],execute:function(){var w,m,B,u,g;t._RF.push({},"d984awSGCVNYJDrKsBRaaQ2","snowfall",void 0);var f=o.ccclass,b=o.property;i("snowfall",(w=f("snowfall"),m=b({type:s}),w((g=d((u=function(i){function t(){for(var t,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return t=i.call.apply(i,[this].concat(s))||this,v(t,"snowball",g,c(t)),t.visibleSnowBalls=[],t.snowBalls=[],t.yPosition=void 0,t.moveBall=!1,t.selectedBall=void 0,t.startingPositionX1=void 0,t.endingPositionX2=void 0,t.randomNo=null,t}p(t,i);var o=t.prototype;return o.start=function(){this.yPosition=this.node.getComponent(n).height/2,this.startingPositionX1=-this.node.getComponent(n).width/2,this.endingPositionX2=-this.startingPositionX1;for(var i=null,t=0;t<200;t++){i=l(this.snowball),this.node.addChild(i),this.snowBalls.push(i);var o=Math.floor(3*Math.random()),s=Math.floor(100*Math.random()+200),h=Math.floor(20*Math.random());i.getComponent(n).width=h,i.getComponent(n).height=h,this.snowBalls[t].attr({direction:o,pos:s,animPlayed:!1}),this.snowBalls[t].getComponent(e).color=new a(255,255,255,100),i.setPosition(Math.random()*(2*this.startingPositionX1)+this.endingPositionX2,this.yPosition,0)}this.schedule(this.addSnowFlake,1)},o.addSnowFlake=function(){for(var i=0;i<8;i++)this.selectedBall=this.snowBalls.pop(),this.selectedBall.active=!0,this.visibleSnowBalls.push(this.selectedBall)},o.update=function(i){for(var t=0;t<this.visibleSnowBalls.length;t++)this.randomNo=this.visibleSnowBalls[t].direction,0==this.randomNo?this.moveRight(this.visibleSnowBalls[t]):1==this.randomNo?this.moveLeft(this.visibleSnowBalls[t]):2==this.randomNo&&this.moveStraight(this.visibleSnowBalls[t]),this.visibleSnowBalls[t].position.y<=this.startingPositionX1&&(this.visibleSnowBalls[t].setPosition(Math.random()*(2*this.startingPositionX1)+this.endingPositionX2,this.yPosition,0),this.visibleSnowBalls[t].active=!1,this.visibleSnowBalls[t].getComponent(e).color=new a(255,255,255,100),this.visibleSnowBalls[t].animPlayed=!1,this.visibleSnowBalls[t].getComponent(h).stop(),this.snowBalls.push(this.visibleSnowBalls[t]),this.visibleSnowBalls.splice(t,1)),this.visibleSnowBalls[t].position.y<=this.visibleSnowBalls[t].pos&&!this.visibleSnowBalls[t].animPlayed&&(this.visibleSnowBalls[t].getComponent(h).play("animation"),this.visibleSnowBalls[t].animPlayed=!0)},o.moveStraight=function(i){i.setPosition(i.position.x,i.position.y-1,0)},o.moveRight=function(i){i.setPosition(i.position.x+.5,i.position.y-1,0)},o.moveLeft=function(i){i.setPosition(i.position.x-.5,i.position.y-1,0)},t}(r)).prototype,"snowball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=u))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/TeamManager.ts",["cc","./Constants.ts"],(function(t){"use strict";var e,r,n;return{setters:[function(t){e=t.cclegacy,r=t.sys},function(t){n=t.USER}],execute:function(){e._RF.push({},"0e055FLahdKRaVf1Pe5ImPq","TeamManager",void 0);var s="Coins",i="Energy";t("TeamManager",function(){function t(){this._userDragons=[],this._AIDragons=[],this._cardsAvailabel=12,this._currentEnenrgy=3,this._currentRound=0,this._computerData=null,this._computerEnergy=3,this._removedDragons=[],this._FightingUserDragons=[],this._FightingAIDragons=[],this._DragonsSpeedOrder=[],this.counter=0,this.animated=!1,this.isCardExecuting=!1,this.lobbyMusicCurrentTime=0,this.gameMusicCurrentTime=0,this.currentSelectedCard=""}var e=t.prototype;return e.getCoins=function(){var t=JSON.parse(r.localStorage.getItem(s));return null==t&&(t=100,this._setCoins(t)),t},e._setCoins=function(t){r.localStorage.setItem(s,JSON.stringify(t))},e.updateCoins=function(t){var e=this.getCoins()+t;this._setCoins(e)},e.getGameEnergy=function(){var t=JSON.parse(r.localStorage.getItem(i));return null==t&&(t=15,this._setGameEnergy(t)),t},e._setGameEnergy=function(t){r.localStorage.setItem(i,JSON.stringify(t))},e.updateGameEnergy=function(t){var e=this.getGameEnergy()+t;this._setGameEnergy(e)},e.getCurrentRound=function(){return this._currentRound},e.setCurrentRound=function(t){this._currentRound=this._currentRound+t},e.resetCurrentRound=function(){this._currentRound=0},t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},e.UseEnergy=function(t,e){switch(void 0===e&&(e=n.Player),e){case n.Player:return!(this._currentEnenrgy-t<0)&&(this._currentEnenrgy=this._currentEnenrgy-t,!0);case n.Computer:return!(this._computerEnergy-t<0)&&(this._computerEnergy=this._computerEnergy-t,!0)}},e.getCurrentEnegy=function(t){switch(void 0===t&&(t=n.Player),t){case n.Player:return this._currentEnenrgy;case n.Computer:return this._computerEnergy}},e.setDefaultEnergy=function(){this._currentEnenrgy=3,this._computerEnergy=3},e.updateEnergy=function(){this._currentEnenrgy=this._currentEnenrgy+3,this._computerEnergy=this._computerEnergy+3},e.getCardsCount=function(){return this._cardsAvailabel},e.ReduceCards=function(){--this._cardsAvailabel},e.setDragons=function(t,e){switch(e){case n.Computer:this._AIDragons=t;break;case n.Player:this._userDragons=t}},e.setFightingDragons=function(){this._FightingAIDragons.length=0,this._FightingUserDragons.length=0,this.supportingDragons(this._AIDragons,this._FightingAIDragons,n.Computer),this.supportingDragons(this._userDragons,this._FightingUserDragons,n.Player),this._DragonsSpeedOrder=[].concat(this._FightingAIDragons,this._FightingUserDragons),this.sortOnSpeed(this._DragonsSpeedOrder)},e.sortDragons=function(){this.sortOnSpeed(this._DragonsSpeedOrder)},e.supportingDragons=function(t,e,r){if(!(e.length>0)){for(var n=0;n<t.length;n++){var s={Node:t[n],user:r,Data:t[n].getComponent("Dragon")};e.push(s)}return this.sortOnSpeed(e),e}this.sortOnSpeed(e)},e.getDragonsSpeedOrder=function(){return this._DragonsSpeedOrder},e.get_Dragon_LowHP=function(t){for(var e=this.getFightingDragons(t),r=[],n=0;n<e.length;n++){var s=e[n].Data;r.push(s.CardsData.HP-s.HP)}return e[r.indexOf(Math.min.apply(Math,r))]},e.getDragonUser=function(t){var e;return(e=this._DragonsSpeedOrder.find((function(e){return e.Node.name===t})))?e.user:e},e.removeDragon=function(t){var e=0,r=this.getDragonUser(t)==n.Player?this._userDragons:this._AIDragons;for(e=0;e<this._DragonsSpeedOrder.length;e++)if(this._DragonsSpeedOrder[e].Node.name===t){this._DragonsSpeedOrder.splice(e,1);break}for(e=0;e<r.length;e++)if(r[e].name===t){r.splice(e,1);break}},e.getRemovedDragons=function(){return this._removedDragons},e.sortOnSpeed=function(t){t.sort((function(t,e){return t.Data.SPD>e.Data.SPD?-1:1}))},e.getUserDragonIndex=function(t){return this._userDragons[t]},e.getDragons=function(t){switch(t){case n.Computer:return this._AIDragons;case n.Player:return this._userDragons}},e.getFightingDragons=function(t){switch(t){case n.Computer:return this._FightingAIDragons;case n.Player:return this._FightingUserDragons}},e.resetRemovedDragons=function(){this._removedDragons.length=0},e.setCardExecuting=function(t){this.isCardExecuting=t},e.getCardExecuting=function(){return this.isCardExecuting},e.setLobbyMusicCurrentTime=function(t){this.lobbyMusicCurrentTime=t},e.getLobbyMusicCurrentTime=function(){return this.lobbyMusicCurrentTime},e.setGameMusicCurrentTime=function(t){this.gameMusicCurrentTime=t},e.getGameMusicCurrentTime=function(){return this.gameMusicCurrentTime},e.setCurrentSelectedCard=function(t){this.currentSelectedCard=t},e.getCurrentSelectedCard=function(){return this.currentSelectedCard},t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["cc"],(function(t){"use strict";var n,o,e,i,r,c,s,u;return{setters:[function(t){n=t.cclegacy,o=t._decorator,e=t.tween,i=t.Vec3,r=t.UITransform,c=t.Sprite,s=t.Intersection2D,u=t.instantiate}],execute:function(){t({RNG:function(t,n){return Math.floor(Math.random()*(t-n+1)+n)},collisionCheck:function(t,n){if(null!=t&&null!=n){var o,e;return s.rectRect(null==(o=t.getComponent(r))?void 0:o.getBoundingBoxToWorld(),null==(e=n.getComponent(r))?void 0:e.getBoundingBoxToWorld())}},getCloseNode:function(t,n){for(var o=[],e=0;e<t.length;e++)o[e]=i.distance(n.getPosition(),t[e].getPosition());var r=o.indexOf(Math.min.apply(Math,o));return t[r]},getScript:function(t,n){return t.getComponent(n)},getXposition:function(t){return t.position.x},getYposition:function(t){return t.position.y},nodeHeight:function(t){return t.getComponent(r).height/2},nodeWidth:function(t){return t.getComponent(r).width/2},popClose:function(t,n){e(t).to(n,{scale:new i(0,0,0)}).start()},popOpen:function(t,n){e(t).to(n,{scale:new i(1,1,1)}).start()},setSpriteFrame:function(t,n){t.getComponent(c).spriteFrame=n}}),n._RF.push({},"97b29Fwc8RL64tt9SRS0NfJ","Utility",void 0);o.ccclass,o.property;t("snail",function(){function t(){this.snail=void 0}return t.prototype.setSnail=function(t){this.snail=t},t}()),t("MyNode",(function(t,n,o){void 0===o&&(o=null),this.myNode=void 0,this.myScript=void 0,this.scoreCount=!1,this.myNode=u(t),o&&(this.myScript=this.myNode.getComponent(o)),n&&n.addChild(this.myNode)}));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});