System.register("chunks:///_virtual/CardsControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var r,a,e,n,i,o,s,C,d,u,h,l,f,g,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Prefab,C=t.CCInteger,d=t.Label,u=t.instantiate,h=t.Layout,l=t.Component},function(t){f=t.USER,g=t.CardAnimation},function(t){c=t.TeamManager}],execute:function(){var p,m,y,v,P,b,_,L,U,D,O;i._RF.push({},"ff43a4NNXRJUIHxVeuauHNd","CardsControl",void 0);var I=o.ccclass,R=o.property;t("CardsControl",(p=I("CardsControl"),m=R({type:s}),y=R({type:C}),v=R({type:C}),P=R({type:d}),p((L=r((_=function(t){function r(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,e(r,"cardsLayoutPrefab",L,n(r)),e(r,"gameStartCardsCount",U,n(r)),e(r,"CardsOnRoundEnd",D,n(r)),e(r,"cardsCountLable",O,n(r)),r.cardsLeft=[],r.currentCards=[],r.CPU_CardsLeft=[],r.CPU_CurCards=[],r.arrayOfEnergyOfCard=[],r.arrayOfAvailableCombination=[],r.K=0,r}a(r,t);var i=r.prototype;return i.start=function(){for(var t=c.getInstance().getFightingDragons(f.Player),r=c.getInstance().getFightingDragons(f.Computer),a=null,e=0;e<t.length;e++)a=u(this.cardsLayoutPrefab),this.node.addChild(a),a.name=t[e].Node.name,this.setCard(t[e].Data.DragonsCard,f.Player),this.setCard(r[e].Data.DragonsCard,f.Computer);this.RandomCardsSetup(f.Player,this.gameStartCardsCount),this.RandomCardsSetup(f.Computer,this.gameStartCardsCount)},i.RandomCardsSetup=function(t,r){void 0===t&&(t=f.Player),void 0===r&&(r=this.CardsOnRoundEnd);var a=null;if(t==f.Player){if(0==this.cardsLeft.length){if(0==this.currentCards.length)for(var e=c.getInstance().getFightingDragons(f.Player),n=0;n<e.length;n++)this.cardsLeft=[].concat(this.cardsLeft,e[n].Data.DragonsCard)}else 1==this.cardsLeft.length&&(r=1);for(var i=0;i<r&&this.cardsLeft.length;i++){var o=(a=this.getRandomCard()).getComponent("powerCard"),s=this.node.getChildByName(a.name);s.getComponent(h).enabled=!0,s.getComponent(h).updateLayout(),s.addChild(a),c.getInstance().ReduceCards(),this.cardsCountLable.string=""+this.cardsLeft.length,o.playAnimation(g.CardIn)}}else{if(0==this.CPU_CardsLeft.length){if(0==this.CPU_CurCards.length)for(var C=c.getInstance().getFightingDragons(f.Computer),d=0;d<C.length;d++)this.CPU_CardsLeft=[].concat(this.CPU_CardsLeft,C[d].Data.DragonsCard)}else 1==this.CPU_CardsLeft.length&&(r=1);for(var u=0;u<r&&this.CPU_CardsLeft.length;u++)a=this.getRandomCard(f.Computer)}},i.getRandomCard=function(t){if(void 0===t&&(t=f.Player),t==f.Computer){var r=this.CPU_CardsLeft.length-1,a=Math.floor(Math.random()*(r-0+1))+0,e=this.CPU_CardsLeft[a];return this.CPU_CardsLeft.splice(a,1),this.CPU_CurCards.push(e),e}var n=this.cardsLeft.length-1,i=Math.floor(Math.random()*(n-0+1))+0;e=this.cardsLeft[i];return this.cardsLeft.splice(i,1),this.currentCards.push(e),e},i.setCard=function(t,r){void 0===r&&(r=f.Player);for(var a=0;a<t.length;a++){t[a].getComponent("powerCard").setParent(this.node.parent.getComponent("gamePlay")),r==f.Player?this.cardsLeft.push(t[a]):this.CPU_CardsLeft.push(t[a])}},i.updateCurrentCards=function(t,r){void 0===r&&(r=f.Player),r==f.Player?this.currentCards.splice(this.currentCards.findIndex((function(r){return r.getComponent("powerCard").Name_Card==t.Name})),1):this.CPU_CurCards.splice(this.CPU_CurCards.findIndex((function(r){return r.getComponent("powerCard").Name_Card==t.Name})),1)},i.cardsToSelectForComputer=function(){var t=this;this.arrayOfAvailableCombination.length=0,this.arrayOfEnergyOfCard.length=0;for(var r=0;r<this.CPU_CurCards.length;r++){var a=this.CPU_CurCards[r].getComponent("powerCard");this.arrayOfEnergyOfCard.push(a.CardData.EnergyCost)}if(this.K=c.getInstance().getCurrentEnegy(f.Computer),this.Combination(this.arrayOfEnergyOfCard,this.K),0!=this.arrayOfAvailableCombination.length){var e=Math.floor(Math.random()*(this.arrayOfAvailableCombination.length-1-0+1)+0);return this.chooseCards(e)}if(this.CPU_CurCards.length<=2){for(var n=c.getInstance().getFightingDragons(f.Computer),i=0;i<n.length;i++)this.setCard(n[i].Data.DragonsCard,f.Computer);for(var o=function(r){var a=t.CPU_CurCards[r].getComponent("powerCard").Name_Card,e=t.CPU_CardsLeft.findIndex((function(t){return t.getComponent("powerCard").Name_Card==a}));-1!=e&&t.CPU_CardsLeft.splice(e,1)},s=0;s<this.CPU_CurCards.length;s++)o(s)}return null},i.chooseCards=function(t){void 0===t&&(t=0);var r=[];if(0==this.arrayOfAvailableCombination.length)return null;for(var a=this.arrayOfAvailableCombination[t],e=0;e<a.length;e++)for(var n=0;n<this.CPU_CurCards.length;n++){var i=this.CPU_CurCards[n].getComponent("powerCard"),o=i.CardData.EnergyCost;if(a[e]==o){this.CPU_CurCards[n];r.push({dragonName:i.dragonName,cardData:i.CardData}),this.updateCurrentCards(i.CardData,f.Computer),c.getInstance().UseEnergy(o,f.Computer);break}}return r},i.unique_combination=function(t,r,a,e,n){var i=[];if(r!=a)for(var o=t;o<n.length;o++)r+n[o]>a||o>t&&n[o]==n[o-1]||(e.push(n[o]),this.unique_combination(o+1,r+n[o],a,e,n),e.pop());else{for(var s=0;s<e.length;s++)i.push(e[s]);this.arrayOfAvailableCombination.push(i)}},i.Combination=function(t,r){t.sort((function(t,r){return t-r}));this.unique_combination(0,0,r,[],t)},r}(l)).prototype,"cardsLayoutPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=r(_.prototype,"gameStartCardsCount",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),D=r(_.prototype,"CardsOnRoundEnd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),O=r(_.prototype,"cardsCountLable",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/comingSoon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var o,t,i,e,s;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,e=n.Animation,s=n.Component}],execute:function(){var c;t._RF.push({},"9cf34Z0TANNdKd9uzRG5n30","comingSoon",void 0);var r=i.ccclass;i.property,n("comingSoon",r("comingSoon")(c=function(n){function t(){return n.apply(this,arguments)||this}o(t,n);var i=t.prototype;return i.start=function(){this.node.getComponent(e).play(),this.node.getComponent(e).on("finished",this.onFinished,this)},i.onFinished=function(){this.node.destroy()},t}(s))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({Boost:void 0,BoostDependent:void 0,Booster:void 0,Buff_Type:void 0,CardAnimation:void 0,Card_Type:void 0,Damage:void 0,Damage_Type:void 0,DeerType:void 0,DotItems:void 0,EffectStatus:void 0,EffectType:void 0,Effect_Target:void 0,Effect_Type:void 0,EffectsProp:void 0,Game_Dynamics:void 0,Heal_Type:void 0,Max_Base:void 0,Reach:void 0,Taunt_Type:void 0,Traget:void 0,USER:void 0,count:void 0}),t._RF.push({},"983031nyw9FQIJwcEg5FXwu","Constants",void 0);var E,_,o,a,n,D,f,T,u,i;e("DragonsCount",3),e("Round_INC",1),e("Base_Booster",1);!function(e){e[e.CardIn=0]="CardIn",e[e.CardOut=1]="CardOut"}(E||(E=e("CardAnimation",{}))),function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(_||(_=e("EffectStatus",{}))),function(e){e.AOE="AOE",e.ST="ST"}(o||(o=e("Reach",{}))),function(e){e[e.BUFF=0]="BUFF",e[e.HEAL=1]="HEAL",e[e.DOT=2]="DOT",e[e.DEBUFF=3]="DEBUFF",e[e.SETUP=4]="SETUP",e[e.REFLECT=5]="REFLECT"}(a||(a=e("EffectType",{}))),function(e){e.IMD="IMD_Heal"}(n||(n=e("Heal_Type",{}))),function(e){e.DMG_BOOST="Damage_Boost",e.ATK_BOOST="Attack_Boost",e.DMG="Damage",e.DMG_REF="DMG_REFLECT",e.EVD_BUFF="Evade_Buff",e.SPD_BOOST="Speed_Boost",e.DMG_RED="Damage_Reduce",e.IMD_HEAL="Immediate_Heal",e.TAUNT="Taunt",e.HEAL_BLK="Heal_Block",e.FRZ_ENY="Freeze_Enemy",e.INC_HEAL="Increase_Heal",e.RM_DB_HEAL="Remove_Dbuff_HEAL",e.RM_DB="Remove_Dbuff",e.DEC_SPD="Decrease_Speed",e.INV="Invincible"}(D||(D=e("Booster",{}))),function(e){e.Enemy_Debuff="Enemy_Debuff",e.Self_Lost_HP="Lost_HP",e.Value="Value",e.ENY_DMG="Enemy_Damage",e.MAX_Value="Max_Value",e.DMG="Damage"}(f||(f=e("BoostDependent",{}))),function(e){e.ONE="One",e.ALL="ALL"}(T||(T=e("count",{}))),function(e){e.DMG_BOOST="Damage_Boost",e.DRG_SPEED="Dragon_Speed",e.DMG_RED="Damage_Reduce",e.DMG_REFLECT="Reflect_Damage"}(u||(u=e("Buff_Type",{}))),function(e){e.Buff="buff",e.Heal="heal",e.Dot="dot",e.Debuff="debuff",e.Setup="setup",e.Reflect="reflect",e.Taunt="taunt"}(i||(i=e("EffectsProp",{})));var c,A;e("Effects",(function(){this.buff=[],this.heal=[],this.dot=[],this.debuff=[],this.setup=[],this.reflect=[],this.taunt=[]}));!function(e){e.DMG_REF="Damage_Reflect"}(c||(c=e("Taunt_Type",{}))),function(e){e.SLF="Self",e.ENY="Enemy",e.TEAM="Team",e.ALY_LOW_HP="Ally_Low_HP",e.MULT="Multiple_Target",e.ENY_TEAM="Enemy_Team",e.SLF_TEAM="Self_Team"}(A||(A=e("Effect_Target",{})));var I;e("Item",{Type:"",Boost:1,Duration:0});!function(e){e.BUFF="Buff",e.HEAL="Heal",e.DOT="Dot",e.DEBUFF="Debuff",e.SETUP="Setup",e.REFLECT="Reflect",e.TAUNT="Taunt"}(I||(I=e("Effect_Type",{})));var s,d,L,r,m,B,F,S,C,l;e("Effect",{Duration:0,Effect_Type:"",Type:"",Amount:0,Status:!1});!function(e){e[e.Computer=0]="Computer",e[e.Player=1]="Player"}(s||(s=e("USER",{}))),function(e){e[e.SPD=100]="SPD",e[e.ATK=600]="ATK",e[e.HP=1200]="HP",e[e.DEF=800]="DEF",e[e.INIT=700]="INIT"}(d||(d=e("Max_Base",{}))),function(e){e[e.EVASION_COEFFICIENT=15]="EVASION_COEFFICIENT",e[e.CRIICAL_HIT_PROB=12]="CRIICAL_HIT_PROB"}(L||(L=e("Game_Dynamics",{}))),function(e){e[e.EVADED=.25]="EVADED",e[e.DEBUFF_CHANCE=.5]="DEBUFF_CHANCE",e[e.CRITICAL_HIT=1.4]="CRITICAL_HIT",e[e.EVADE_INC=3]="EVADE_INC",e[e.EVADE_PENALTY=1.5]="EVADE_PENALTY"}(r||(r=e("Damage",{}))),function(e){e.PHY="Physical",e.SKL="Skill"}(m||(m=e("Damage_Type",{}))),function(e){e.SPD="SPD_BOOST",e.DMG="DMG_BOOST",e.ATK="ATK_BOOST",e.RED_DMG="DMG_REDUCE"}(B||(B=e("Boost",{}))),function(e){e.DMG="DMG"}(F||(F=e("DotItems",{}))),function(e){e.Attack="ATK",e.Defense="DEF",e.Heal="HEAL"}(S||(S=e("Card_Type",{}))),function(e){e.SLF="Self",e.ENY="Enemy"}(C||(C=e("Traget",{}))),function(e){e[e.IDLE=1]="IDLE",e[e.WALKING=2]="WALKING",e[e.EATING=3]="EATING",e[e.IDLE_EATING=4]="IDLE_EATING",e[e.IDLE_WALKING=5]="IDLE_WALKING",e[e.IDLE_EAT_WALK=6]="IDLE_EAT_WALK"}(l||(l=e("DeerType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/Deer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,p,l,m,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Enum,c=e.Animation,p=e.tween,l=e.Vec3,m=e.Component},function(e){u=e.DeerType},function(e){y=e.RNG}],execute:function(){var d,D,h,A,f;r._RF.push({},"6634cR98EBPOoE2KdPzQraX","Deer",void 0);var I=a.ccclass,E=a.property;e("Deer",(d=I("Deer"),D=E({type:s(u)}),d((f=t((A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"deerType",f,o(t)),t.timer=0,t.deerIdleAnimTimer=1500,t}n(t,e);var r=t.prototype;return r.start=function(){this.deerType==u.WALKING&&this.playDeerWalkAnimation()},r.update=function(e){this.timer++,this.timer%this.deerIdleAnimTimer==0&&(this.deerIdleAnimTimer=y(2e3,3e3),this.checkAnimationToPlay())},r.checkAnimationToPlay=function(){switch(this.deerType){case u.EATING:case u.IDLE:break;case u.IDLE_EATING:this.playDeerIdleEatingAnimation();break;case u.IDLE_EAT_WALK:case u.IDLE_WALKING:case u.WALKING:}},r.playDeerEatAnimation=function(){this.node.getComponent(c).play("DeerEatAnimation")},r.playDeerIdleAnimation=function(){this.node.getComponent(c).play("DeerIdleAnim")},r.playDeerWalkAnimation=function(){var e=y(0,1);this.node.getComponent(c).play("DeerWalk"),p(this.node).by(70,{position:new l(-500,-e,0)}).start()},r.playDeerDownAnimation=function(){this.node.getComponent(c).play("DeerDownMovement")},r.playDeerUpAnimation=function(){this.node.getComponent(c).play("DeerUpwordMovement")},r.playDeerIdleEatingAnimation=function(){this.node.getComponent(c).play("DeerIdleEat")},t}(m)).prototype,"deerType",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.IDLE}}),h=A))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/DeerAniamtion.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,n,o,a,l,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,u=e.Prefab,c=e.Component}],execute:function(){var p,s,f,b,y,m,D,A,v,d,g;o._RF.push({},"efb18izaOpF74v4N47y8OAI","DeerAniamtion",void 0);var _=a.ccclass,h=a.property;e("DeerAniamtion",(p=_("DeerAniamtion"),s=h({type:l}),f=h({type:[l]}),b=h({type:u}),y=h({type:[l]}),p((A=r((D=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"Deer_Animation",A,n(r)),i(r,"DeerMovePoints",v,n(r)),r.Deer_AnimationCount=0,r.tempMulti=void 0,r.Deer_AnimationSpeed=150,i(r,"treePrefab",d,n(r)),i(r,"treeArea",g,n(r)),r}return t(r,e),r}(c)).prototype,"Deer_Animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(D.prototype,"DeerMovePoints",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=r(D.prototype,"treePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(D.prototype,"treeArea",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=D))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Details.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,l,p,g,h,c,d,y,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.Node,p=t.instantiate,g=t.Vec3,h=t.UITransform,c=t.Label,d=t.Component},function(t){y=t.USER},function(t){u=t.TeamManager}],execute:function(){var m,f,C,v,b,A,B,w,T,D,L;o._RF.push({},"f1ce3aBB7NG5LQ8745wCd7h","Details",void 0);var E=a.ccclass,N=a.property;t("Details",(m=E("Details"),f=N({type:s}),C=N({type:s}),v=N({type:l}),b=N({type:l}),m((w=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"button",w,i(e)),r(e,"prop",T,i(e)),r(e,"view",D,i(e)),r(e,"details",L,i(e)),e.dragonArray=[],e.propArray=[],e.index=0,e.addLabel=null,e.powerType=["HP","ATK","DEF","SPD","INT"],e}n(e,t);var o=e.prototype;return o.start=function(){this.dragonArray=[].concat(u.getInstance().getDragons(y.Player),u.getInstance().getDragons(y.Computer)),console.log("card s : ",this.dragonArray),console.log("card name : ",this.dragonArray[0].name);var t=this.dragonArray[0].getComponent("Dragon");console.log("Scr ",t),console.log(" cards data ",t.ATK);for(var e=0;e<this.dragonArray.length;e++){var n=p(this.button);n.position=new g(-100,this.node.getComponent(h).height/2-(100*e+100),0),this.view.addChild(n),n.getChildByName("Label").getComponent(c).string=this.dragonArray[e].name,n.on(l.EventType.MOUSE_DOWN,this.showDetails,this)}for(var r=0;r<this.powerType.length;r++){var i=void 0;(i=p(this.prop)).position=new g(0,this.details.getComponent(h).height/2-(100*r+50),0),this.details.addChild(i),i.getChildByName("Label").getComponent(c).string=this.powerType[r],this.propArray.push(i)}},o.showDetails=function(t){this.view.active=!0;for(var e=0;e<6;e++)this.dragonArray[e].name==t.target.getChildByName("Label").getComponent(c).string&&(this.index=e)},o.updateButton=function(){for(var t=0;t<this.powerType.length;t++)if(this.propArray[t].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(c).string){var e=this.powerType[t];this.dragonArray[this.index].getComponent("Dragon")[e]=this.propArray[t].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(c).string,console.log("1 : ",this.dragonArray[this.index].getComponent("Dragon")[e],"2 : ",this.propArray[t].getChildByName("EditBox").getChildByName("TEXT_LABEL").getComponent(c).string)}},o.activeButton=function(){this.node.parent.active=!0},o.closeButton=function(){this.node.parent.active=!1},e}(d)).prototype,"button",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(B.prototype,"prop",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(B.prototype,"view",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(B.prototype,"details",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/Dragon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,s,a,r,o,i,n,f,c,h,u,d,D,l,_,p,E,g,b,B,A,P,T,H,C,F,R,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.extends},function(t){i=t.cclegacy,n=t._decorator,f=t.Prefab,c=t.Node,h=t.Label,u=t.resources,d=t.SpriteFrame,D=t.Sprite,l=t.JsonAsset,_=t.ProgressBar,p=t.instantiate,E=t.Component},function(t){g=t.Effects,b=t.Effect_Type,B=t.Effect_Target,A=t.DragonsCount,P=t.EffectStatus,T=t.EffectsProp,H=t.Booster,C=t.Base_Booster,F=t.count,R=t.BoostDependent},function(t){M=t.TeamManager}],execute:function(){var m,L,S,k,v,G,y,O,w,N,I;i._RF.push({},"93cc2UZoadD/J8sRaz1v58A","Dragon",void 0);var K=n.ccclass,U=n.property;t("Dragon",(m=K("Dragon"),L=U({type:f}),S=U({type:c}),k=U({type:h}),v=U({type:h}),m((O=e((y=function(t){function e(){for(var e,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,a(e,"cardPrefab",O,r(e)),a(e,"Hp_Node",w,r(e)),a(e,"Max_Hp_Label",N,r(e)),a(e,"Cur_Hp_Label",I,r(e)),e.CardsData=null,e.dragonData=[],e.DragonsCard=[],e.DragonUser=null,e.HP=0,e.SPD=0,e.DEF=0,e.ATK=0,e.INT=0,e.Booster={DMG:1,DMG_RED:1,Taunt:0,EVD_BUFF:0,DMG_REF:{turn:0,ref:0},INV:0},e.Loosers={DMG_BOOST:{turn:0,ref:0},Heal_Block:0,FREZ:{turn:0,ref:0}},e.Buff_items=[],e.Dot_items=[],e.Effects=void 0,e.Buff_Status=!1,e.Buff_Duration_Round=0,e}s(e,t);var i=e.prototype;return i.start=function(){this.Effects=new g},i.loadRoomResource=function(t,e){return new Promise((function(s,a){u.load(t,e,(function(t,e){t?a(t):s(e)}))}))},i.setDragon=function(t,e){var s=this;this.DragonUser=e,this.node.name=t.species+" "+t.type,this.loadRoomResource(t.Image+"/spriteFrame",d).then((function(e){s.node.getComponent(D).spriteFrame=e,s.loadRoomResource("DragonsData/"+t.species+t.type,l).then((function(t){s.CardsData=t.json,s.Max_Hp_Label.string=""+s.CardsData.HP,s.Cur_Hp_Label.string=""+s.CardsData.HP,s.resetDragonAbiitly(),s.setDragonCards(s.CardsData)})).catch((function(t){console.log("Error Loading Base URL")}))})).catch((function(t){console.log("Error Loading Base URL")}))},i.resetDragonAbiitly=function(){this.HP=this.CardsData.HP,this.SPD=this.CardsData.SPD,this.INT=this.CardsData.INT,this.DEF=this.CardsData.DEF,this.ATK=this.CardsData.ATK},i.AddEffect=function(t,e){for(var s=[],a=0;a<t.length;a++){var r=null;(r=o({},t[a])).status=!1,r.data=e,r.duration=parseInt(r.duration)+M.getInstance().getCurrentRound(),s.push(r)}return s},i.updateEffect=function(t,e){switch(void 0===e&&(e=null),t.EffectType){case b.BUFF:var s=this.AddEffect(t.Effects,e);this.Effects.buff=[].concat(this.Effects.buff,s);break;case b.HEAL:var a=this.AddEffect(t.Effects,e);this.Effects.heal=[].concat(this.Effects.heal,a);break;case b.DOT:var r=this.AddEffect(t.Effects,e);this.Effects.dot=[].concat(this.Effects.dot,r);break;case b.TAUNT:var o=this.AddEffect(t.Effects,e);this.Effects.taunt=[].concat(this.Effects.taunt,o);break;case b.DEBUFF:var i=this.AddEffect(t.Effects,e);this.Effects.debuff=[].concat(this.Effects.debuff,i);break;case b.SETUP:var n=this.AddEffect(t.Effects,e);this.Effects.setup=[].concat(this.Effects.setup,n);break;case b.REFLECT:}},i.heal_Dragon=function(t){this.Loosers.Heal_Block>0?--this.Loosers.Heal_Block:(this.HP+t>=this.CardsData.HP?this.HP=this.CardsData.HP:this.HP=this.HP+t,this.update_HP_View())},i.Buff_Damage_Boost=function(t){switch(t.boostTarget){case B.SLF_TEAM:var e=M.getInstance().getFightingDragons(this.DragonUser).length;e-=A,this.Booster.DMG=this.Booster.DMG+e*t.boost}},i.updateRoundData=function(){for(var t,e=Object.keys(this.Effects),s=0;s<e.length;s++)for(var a=this.Effects[e[s]],r=0;r<a.length;r++){var o=a[r].status,i=a[r].duration>M.getInstance().getCurrentRound();if(!o||!i){switch(t=i?P.Add:P.Remove,e[s]){case T.Buff:this.Add_Del_Buff(a[r],t),a[r].status=!0;break;case T.Dot:this.Add_Del_Dot(a[r],t);break;case T.Setup:this.Add_Del_Setup(a[r],t),a[r].status=!0;break;case T.Heal:this.Add_Del_HealBuff(a[r],t);break;case T.Debuff:this.Add_Del_Debuff(a[r],t),a[r].status=!0}!i&&a.splice(r,1)&&--r}}},i.resetAllBuff=function(){this.Effects.buff.length=0,this.Effects.dot.length=0,this.Effects.setup.length=0,this.Effects.heal.length=0,this.Effects.debuff.length=0,this.resetDragonAbiitly()},i.Add_Del_Debuff=function(t,e){switch(t.type){case H.HEAL_BLK:this.Loosers.Heal_Block=t.turn;break;case H.FRZ_ENY:this.Loosers.FREZ.turn=t.turn,this.Loosers.FREZ.ref=C+parseFloat(t.boost);break;case H.DMG_BOOST:this.Loosers.DMG_BOOST.turn=t.turn,this.Loosers.DMG_BOOST.ref=C+parseFloat(t.boost);break;case H.DEC_SPD:if(e==P.Add){this.SPD=this.SPD*parseFloat(t.boost);break}this.SPD=this.CardsData.SPD}},i.Add_Del_HealBuff=function(t,e){switch(t.type){case H.INC_HEAL:if(e==P.Add)switch(t.boostTarget){case R.ENY_DMG:var s=.5*t.data.damage;this.heal_Dragon(s);break;case R.DMG:this.heal_Dragon(t.data.damage);break;case R.MAX_Value:var a=this.CardsData.HP*parseFloat(t.boost);this.heal_Dragon(a);break;case R.Value:this.heal_Dragon(t.boost)}break;case H.RM_DB:e==P.Add&&(t.boostTarget==F.ONE?this.Effects.debuff.length>0&&(this.Effects.debuff.length=this.Effects.debuff.length-1):t.count==F.ALL&&(this.Effects.debuff.length=0))}},i.Add_Del_Setup=function(t,e){switch(t.type){case H.ATK_BOOST:e==P.Add?this.ATK=this.ATK*(2-this.HP/this.CardsData.HP):this.ATK=this.CardsData.ATK}},i.Add_Del_Dot=function(t,e){switch(t.type){case H.DMG:this.Reduce_HP(t.amount)}},i.BuffEndedCheck=function(){this.updateRoundData()},i.Add_Del_Buff=function(t,e){switch(t.type){case H.ATK_BOOST:if(e==P.Add)switch(t.boost_Dependent){case R.Value:this.ATK=this.ATK*t.boost;break;case R.Enemy_Debuff:this.ATK=this.ATK*(1+t.data.ENY_DRG.Effects.debuff.length*parseFloat(t.boost))}else this.ATK=this.CardsData.ATK;break;case H.DMG_BOOST:e==P.Add?this.Buff_Damage_Boost(t):this.Booster.DMG=C;break;case H.SPD_BOOST:e==P.Add?this.SPD=Math.round(this.SPD*(C+parseFloat(t.boost))):this.SPD=this.CardsData.SPD;break;case H.DMG_RED:e==P.Add?this.Booster.DMG_RED=parseFloat(t.boost):this.Booster.DMG_RED=C;break;case H.TAUNT:this.Booster.Taunt=t.turn;break;case H.EVD_BUFF:this.Booster.Evade_Buff=t.turn;break;case H.DMG_REF:this.Booster.DMG_REF.turn=t.turn,this.Booster.DMG_REF.ref=parseFloat(t.boost);break;case H.INV:this.Booster.INV=t.turn}},i.Damage_Dragon=function(t,e){if(this.Booster.INV>0)--this.Booster.INV;else{if(t.Booster.DMG>1&&(e*=t.Booster.DMG),this.Booster.DMG_REF.turn>0){--this.Booster.DMG_REF.turn;var s=e*parseFloat(this.Booster.DMG_REF.ref);t.Damage_Dragon(this,s),e-=s}this.Booster.DMG_RED<1&&(e*=this.Booster.DMG_RED),this.Loosers.DMG_BOOST.turn>0&&(--this.Loosers.DMG_BOOST.turn,e*=this.Loosers.DMG_BOOST.ref),this.Loosers.FREZ.turn>0&&(--this.Loosers.FREZ.turn,e*=this.Loosers.FREZ.ref),this.Reduce_HP(e)}},i.Reduce_HP=function(t){t=Math.round(t),this.HP-t<=0?M.getInstance().removeDragon(this.node.name):(this.HP=this.HP-t,this.update_HP_View())},i.update_HP_View=function(){var t=this.HP/this.CardsData.HP;this.Cur_Hp_Label.string=""+Math.round(this.HP),this.Hp_Node.getComponent(_).progress=t},i.setDragonCards=function(t){for(var e,s=0;s<t.CardData.length;s++)(e=p(this.cardPrefab)).getComponent("powerCard").setDragonCard(this.node.getComponent(D).spriteFrame,t.CardData[s],this.node.name),e.name=this.node.name,this.DragonsCard.push(e)},e}(E)).prototype,"cardPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(y.prototype,"Hp_Node",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(y.prototype,"Max_Hp_Label",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(y.prototype,"Cur_Hp_Label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=y))||G));i._RF.pop()}}}));

System.register("chunks:///_virtual/dragonBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TeamManager.ts"],(function(e){"use strict";var r,t,n,a,o,i,c,l,s,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,c=e.Node,l=e.Sprite,s=e.Component},function(e){g=e.TeamManager}],execute:function(){var u,p,d,f,m,y,D;o._RF.push({},"48efeMBhWlHh6xmkyvNDoEZ","dragonBoard",void 0);var h=i.ccclass,v=i.property;e("dragonBoard",(u=h("dragonBoard"),p=v({type:c}),d=v({type:l}),u((y=r((m=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(r,"DragonSelected",y,a(r)),n(r,"DragonImage",D,a(r)),r}t(r,e);var o=r.prototype;return o.setDragon=function(e){var r=g.getInstance().getUserDragonIndex(e);this.DragonImage.spriteFrame=r.getComponent(l).spriteFrame},o.toggleSelected=function(){this.DragonSelected.active=!this.DragonSelected.active},r}(s)).prototype,"DragonSelected",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(m.prototype,"DragonImage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/dragonDetails.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var t,n,r,i,a,o,s,l,g,d,c,u,h,p,C,m,b,f,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,l=e.SpriteFrame,g=e.Label,d=e.Sprite,c=e.Button,u=e.tween,h=e.Vec3,p=e.instantiate,C=e.Animation,m=e.Color,b=e.Component},function(e){f=e.USER},function(e){D=e.TeamManager}],execute:function(){var y,B,S,w,v,I,k,F,L,x,N,z,P,G,_,A,R,T,M,O,E,H,V,j,K,U,q,J,Q,W,X,Y,Z,$,ee;a._RF.push({},"81be3CCOPVOD7zGRrmkfnLL","dragonDetails",void 0);var te=o.ccclass,ne=o.property;e("dragonDetails",(y=te("dragonDetails"),B=ne({type:s}),S=ne({type:s}),w=ne({type:l}),v=ne({type:l}),I=ne({type:l}),k=ne({type:g}),F=ne({type:d}),L=ne({type:s}),x=ne({type:g}),N=ne({type:l}),z=ne({type:l}),P=ne({type:s}),G=ne({type:s}),_=ne({type:s}),A=ne({type:c}),R=ne({type:c}),y((O=t((M=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"BackGround",O,i(t)),r(t,"cardLayout",E,i(t)),r(t,"Pico_Ice",H,i(t)),r(t,"Grunt_Fire",V,i(t)),r(t,"Oly_Space",j,i(t)),r(t,"nameLabel",K,i(t)),r(t,"DragonSprite",U,i(t)),r(t,"DetailsButton",q,i(t)),r(t,"PowerLabel",J,i(t)),r(t,"FiltersSprite",Q,i(t)),r(t,"SortBySprite",W,i(t)),r(t,"BaseAbilities",X,i(t)),r(t,"LearnedAbilities",Y,i(t)),r(t,"DragonCards",Z,i(t)),r(t,"DragonRightButton",$,i(t)),r(t,"DragonLeftButton",ee,i(t)),t.selectedDragonIndex=1,t.layout=null,t.powerCards=[],t.dragons=[],t.currentState=1,t.Stars_Move=null,t}n(t,e);var a=t.prototype;return a.start=function(){this.Stars_Move=this.BackGround.getChildByName("Stars"),u(this.Stars_Move).repeatForever(u().by(1,{position:new h(0,10,1)}).by(1,{position:new h(0,-10,1)})).start(),this.dragons=[].concat(D.getInstance().getDragons(f.Player));var e=this.dragons[this.selectedDragonIndex].getComponent("Dragon");this.DragonSprite.getComponent(d).spriteFrame=this.dragons[this.selectedDragonIndex].getComponent(d).spriteFrame,this.nameLabel.string=this.dragons[this.selectedDragonIndex].name,this.setPowerDragon(e);for(var t=0;t<e.DragonsCard.length;t++){var n=p(e.DragonsCard[t]);this.cardLayout.addChild(n),this.powerCards.push(n)}for(var r=0;r<this.dragons.length;r++)this.DragonCards.getChildByName("DragonConfirmCard"+r).getChildByName("Dragon").getComponent(d).spriteFrame=this.dragons[r].getComponent(d).spriteFrame},a.backButtonClick=function(){this.node.destroy()},a.leftArrowClick=function(){this.selectedDragonIndex>0&&this.setSelectedDragon(this.selectedDragonIndex-1)&&this.onDragonCardLeftClick()},a.rightArrowClick=function(){this.selectedDragonIndex<this.dragons.length-1&&this.setSelectedDragon(this.selectedDragonIndex+1)&&this.onDragonCardRightClick()},a.onFinished=function(e){console.log("Index",e);1==this.selectedDragonIndex?this.setBackGorund(this.Pico_Ice):0==this.selectedDragonIndex?this.setBackGorund(this.Grunt_Fire):this.setBackGorund(this.Oly_Space),this.BackGround.getComponent(C).off("finished"),this.BackGround.getComponent(C).play("Fade_In")},a.setBackGorund=function(e){this.BackGround.getComponent(d).spriteFrame=e[0],this.BackGround.getChildByName("Stars").getComponent(d).spriteFrame=e[1],this.BackGround.getChildByName("Base").getComponent(d).spriteFrame=e[2]},a.setSelectedDragon=function(e){this.BackGround.getComponent(C).play("FadeOut");this.BackGround.getComponent(C).on("finished",this.onFinished,this);var t=this.dragons[e].getComponent("Dragon");this.setPowerDragon(t),this.DragonSprite.getComponent(d).spriteFrame=this.dragons[e].getComponent(d).spriteFrame,this.nameLabel.string=this.dragons[e].name;for(var n=0;n<t.DragonsCard.length;n++)this.powerCards[n].getComponent(d).spriteFrame=t.DragonsCard[n].getComponent(d).spriteFrame;return this.selectedDragonIndex=e,!0},a.setPowerDragon=function(e){this.PowerLabel[0].string=e.HP,this.PowerLabel[1].string=e.ATK,this.PowerLabel[2].string=e.DEF,this.PowerLabel[3].string=e.INT,this.PowerLabel[4].string=e.SPD},a.onDetailsButtonClick=function(){for(var e=0;e<2;e++)if(this.DetailsButton[e].active){this.DetailsButton[e].active=!1,this.DetailsButton[+!e].active=!0;break}},a.onFilterClick=function(e){for(var t=0;t<2;t++)if(e.target.getComponent(d).spriteFrame==this.FiltersSprite[t]){e.target.getComponent(d).spriteFrame=this.FiltersSprite[+!t];break}},a.onSortByClick=function(e){for(var t=0;t<2;t++)if(e.target.getComponent(d).spriteFrame==this.SortBySprite[t]){e.target.getComponent(d).spriteFrame=this.SortBySprite[+!t];break}},a.onLearnedAbilitiesClick=function(){this.BaseAbilities.active=!1,this.LearnedAbilities.active=!0},a.onBaseAbilitiesClick=function(){this.BaseAbilities.active=!0,this.LearnedAbilities.active=!1},a.onDragonCardLeftClick=function(){var e=this,t=this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).getSiblingIndex(),n=this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState-1)).getSiblingIndex();if(this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState-1)).setSiblingIndex(t),1==this.currentState){var r=this.DragonCards.getChildByName("DragonConfirmCard2").getSiblingIndex();this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(r),this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).setSiblingIndex(n)}else this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(n);this.currentState-=1;for(var i=0;i<this.DragonCards.children.length;i++){var a=this.DragonCards.getChildByName("DragonConfirmCard"+i),o=a.getChildByName("Transparency");2!=a.getSiblingIndex()?o.getComponent(d).color=new m(0,0,0,75):o.getComponent(d).color=new m(0,0,0,0),u(a).call((function(){e.DragonLeftButton.enabled=!1,e.DragonRightButton.enabled=!1})).by(.5,{position:new h(110,0,0)}).call((function(){e.DragonRightButton.enabled=!0,0!=e.currentState&&(e.DragonLeftButton.enabled=!0)})).start()}},a.onDragonCardRightClick=function(){var e=this,t=this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).getSiblingIndex(),n=this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).getSiblingIndex();if(this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+1)).setSiblingIndex(t),0==this.currentState){var r=this.DragonCards.getChildByName("DragonConfirmCard2").getSiblingIndex();this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(r),this.DragonCards.getChildByName("DragonConfirmCard"+(this.currentState+2)).setSiblingIndex(n)}else this.DragonCards.getChildByName("DragonConfirmCard"+this.currentState).setSiblingIndex(n);this.currentState+=1;for(var i=0;i<this.DragonCards.children.length;i++){var a=this.DragonCards.getChildByName("DragonConfirmCard"+i),o=a.getChildByName("Transparency");2!=a.getSiblingIndex()?o.getComponent(d).color=new m(0,0,0,75):o.getComponent(d).color=new m(0,0,0,0),u(a).call((function(){e.DragonLeftButton.enabled=!1,e.DragonRightButton.enabled=!1})).by(.5,{position:new h(-110,0,0)}).call((function(){e.DragonLeftButton.enabled=!0,2!=e.currentState&&(e.DragonRightButton.enabled=!0)})).start()}},t}(b)).prototype,"BackGround",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(M.prototype,"cardLayout",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"Pico_Ice",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(M.prototype,"Grunt_Fire",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(M.prototype,"Oly_Space",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(M.prototype,"nameLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"DragonSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(M.prototype,"DetailsButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(M.prototype,"PowerLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(M.prototype,"FiltersSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=t(M.prototype,"SortBySprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(M.prototype,"BaseAbilities",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(M.prototype,"LearnedAbilities",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(M.prototype,"DragonCards",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(M.prototype,"DragonRightButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(M.prototype,"DragonLeftButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=M))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/DragonSequence.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,a,n,i,o,c,s,u,l,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,c=e.Prefab,s=e.Node,u=e.instantiate,l=e.Sprite,p=e.Component}],execute:function(){var d,f,y,g,h,b,C;i._RF.push({},"640baX9qd9MQI1eD1A2fjrY","DragonSequence",void 0);var D=o.ccclass,v=o.property;e("DragonSequence",(d=D("DragonSequence"),f=v({type:c}),y=v({type:s}),d((b=r((h=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,a(r,"selectedCardPrefab",b,n(r)),a(r,"cardsLayout",C,n(r)),r.powerCards=[],r}t(r,e);var i=r.prototype;return i.start=function(){},i.addCard=function(e){var r=u(this.selectedCardPrefab);this.cardsLayout.addChild(r),this.powerCards.push(r),r.getChildByName("Dragon").getComponent(l).spriteFrame=e},r}(p)).prototype,"selectedCardPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=r(h.prototype,"cardsLayout",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTeam.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts","./Utility.ts"],(function(t){"use strict";var a,e,n,r,o,s,i,c,g,p,f,D,l,h,u,T,d,_,m,E,y,C,v;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,i=t.Node,c=t.UITransform,g=t.tween,p=t.Vec3,f=t.Component},function(t){D=t.USER,l=t.Card_Type,h=t.Traget,u=t.Reach,T=t.Damage_Type,d=t.Max_Base,_=t.Damage,m=t.Game_Dynamics,E=t.Effect_Target},function(t){y=t.TeamManager},function(t){C=t.getCloseNode,v=t.RNG}],execute:function(){var A,I,P,N,R;o._RF.push({},"258db3zLZtN74UUzQadm6Jx","DragonTeam",void 0);var S=s.ccclass,b=s.property;t("DragonTeam",(A=S("DragonTeam"),I=b({type:i}),A((R=a((N=function(t){function a(){for(var a,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return a=t.call.apply(t,[this].concat(o))||this,n(a,"DragonTurn",R,r(a)),a.cardsData=[],a.parentSCRT=null,a.DragonTurn_Scr=null,a.curCard=0,a.CardsArray=[],a}e(a,t);var o=a.prototype;return o.start=function(){this.DragonTurn_Scr=this.DragonTurn.getComponent("DragonTurn"),this.parentSCRT=this.node.parent.getComponent("gamePlay"),this.setupDragons(D.Player,200,100),this.setupDragons(D.Computer,200,100)},o.setUpCardsRound=function(t){if(void 0===t&&(t=null),t&&(this.cardsData=t),this.cardsData.length){var a=this.cardsData.shift();this.drawCard(a.dragonName,a.cardData)}else this.parentSCRT.resetCountdown()},o.setupDragons=function(t,a,e){var n=[];t==D.Computer||(a=-a);var r=a,o=-.14*this.node.getComponent(c).height;n=y.getInstance().getDragons(t);for(var s=0;s<n.length;s++)this.node.addChild(n[s]),n[s].setPosition(r,o,1),s%2!=0?o-=e:o+=e,r+=a},o.validate_Target=function(t,a){for(var e=y.getInstance().getDragons(t),n=0;n<e.length;n++){var r=e[n].getComponent("Dragon");if(r.Booster.Taunt>0)return--r.Booster.Taunt,e[n]}return a},o.AttackTweening=function(t,a){var e=this;if(0!=a.length){var n=a.pop().getPosition(),r=t.getPosition();g(t).to(.5,{position:new p(n)}).to(.5,{position:new p(r)}).delay(.5).call((function(){e.AttackTweening(t,a)})).start()}else this.setUpCardsRound()},o.playAniamtion=function(t,a,e){var n=this;e?this.AttackTweening(t,a):g(t).by(.2,{position:new p(10,10,1)}).by(.2,{position:new p(-10,-10,1)}).by(.2,{position:new p(10,10,1)}).by(.2,{position:new p(-10,-10,1)}).by(.1,{position:new p(10,10,1)}).by(.1,{position:new p(-10,-10,1)}).delay(.5).call((function(){n.setUpCardsRound()})).start()},o.drawCard=function(t,a){var e=y.getInstance().getDragonUser(t),n=this.node.getChildByName(t),r=n.getComponent("Dragon"),o=[].concat(y.getInstance().getDragons(Math.abs(e-1))),s=C(o,n),i=null;if(a.CardType==l.Attack)if(a.Target==h.ENY){var c=[];if(a.Reach==u.ST)i=(s=this.validate_Target(Math.abs(e-1),s)).getComponent("Dragon"),c.push(i),this.playAniamtion(n,[s],!0);else if(a.Reach==u.AOE){for(var g=0;g<o.length;g++)c.push(o[g].getComponent("Dragon"));this.playAniamtion(n,o,!0)}for(var p=0;p<c.length;p++)a.DamageType==T.PHY?this.PhyscialAttack(r,c[p],a):a.DamageType==T.SKL&&this.SkillBasedAttack(r,c[p],a)}else a.Target==h.SLF&&v(0,100)<a.chance&&(this.Effect_Update(i,r,a,{}),this.playAniamtion(n,[s],!1));else(a.CardType==l.Defense||a.CardType==l.Heal)&&(i=s.getComponent("Dragon"),this.Effect_Update(i,r,a,{}),this.playAniamtion(n,[s],!1));this.DragonTurn_Scr.removeCard(t)},o.SkillBasedAttack=function(t,a,e){var n=t.INT/d.INIT+t.ATK/d.ATK-(a.HP/d.HP+a.INT/d.INIT),r=parseFloat(e.Damage)+e.Damage*n,o=this.DragonAttackEvasion(t,a);v(0,100)<o.prob?r*=_.EVADED:v(0,100)<m.CRIICAL_HIT_PROB&&(r=r*_.CRITICAL_HIT*o.evn_Penalty),a.Damage_Dragon(t,r*o.evn_Penalty),v(0,100)<e.chance&&this.Effect_Update(a,t,e,{damage:r,ATK_DRG:t,ENY_DRG:a})},o.PhyscialAttack=function(t,a,e){var n=t.SPD/d.SPD+t.ATK/d.ATK-(a.HP/d.HP+a.DEF/d.DEF),r=parseFloat(e.Damage)+e.Damage*n,o=this.DragonAttackEvasion(t,a);v(0,100)<o.prob?r*=_.EVADED:v(0,100)<m.CRIICAL_HIT_PROB&&(r=r*_.CRITICAL_HIT*o.evn_Penalty),a.Damage_Dragon(t,r*o.evn_Penalty),v(0,100)<e.chance&&this.Effect_Update(a,t,e,{damage:r,ATK_DRG:t,ENY_DRG:a})},o.Effect_Update=function(t,a,e,n){switch(e.EffectTarget){case E.SLF:case E.TEAM:a.updateEffect(e,n);break;case E.MULT:for(var r=0;r<e.Effects.length;r++)e.EffectTarget=e.Effects[r].effectTarget,this.Effect_Update(t,a,e,n);break;case E.ENY_TEAM:for(var o=y.getInstance().getFightingDragons(t.DragonUser),s=0;s<o.length;s++)o[s].Data.updateEffect(e,n);break;case E.SLF_TEAM:for(var i=y.getInstance().getFightingDragons(a.DragonUser),c=0;c<i.length;c++)i[c].Data.updateEffect(e,n);break;case E.ALY_LOW_HP:y.getInstance().get_Dragon_LowHP(a.DragonUser).Data.updateEffect(e,n);break;case E.ENY:t.updateEffect(e,n)}},o.DragonAttackEvasion=function(t,a){var e=a.SPD/d.SPD*(a.INT/d.INIT),n=t.SPD/d.SPD*(t.INT/d.INIT),r=1;a.Booster.EVD_BUFF>0&&(--a.Booster.EVD_BUFF,n*=_.EVADE_INC,r=_.EVADE_PENALTY);var o=e-n+e,s=Math.max(0,o);return{prob:s*=m.EVASION_COEFFICIENT,evn_Penalty:r}},a}(f)).prototype,"DragonTurn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=N))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/DragonTurn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var r,t,a,n,i,o,u,s,l,p,d,c,y;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,u=e.Prefab,s=e.Node,l=e.instantiate,p=e.Sprite,d=e.Component},function(e){c=e.USER},function(e){y=e.TeamManager}],execute:function(){var g,f,h,C,m,b,L,P,v,D,S;i._RF.push({},"05968nhrBhLgJjoSAo7ULvA","DragonTurn",void 0);var B=o.ccclass,F=o.property;e("DragonTurn",(g=B("DragonTurn"),f=F({type:u}),h=F({type:u}),C=F({type:s}),m=F({type:s}),g((P=r((L=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,a(r,"DragonFrame",P,n(r)),a(r,"CardsBackPrefab",v,n(r)),a(r,"PlayerLayout",D,n(r)),a(r,"ComputerLayout",S,n(r)),r.speedCards=[],r}t(r,e);var i=r.prototype;return i.start=function(){this.addCardOnLayout()},i.addCardOnLayout=function(){for(var e=y.getInstance().getDragonsSpeedOrder(),r=0;r<e.length;r++)e[r].user==c.Player?this.supportingUISetup(e[r].Node,r,c.Player):this.supportingUISetup(e[r].Node,r,c.Computer)},i.changeSiblingIndex=function(){},i.supportingUISetup=function(e,r,t){var a=l(this.DragonFrame);c.Player==t?this.PlayerLayout.addChild(a):this.ComputerLayout.addChild(a),a.getChildByName("Dragon").getComponent(p).spriteFrame=e.getComponent(p).spriteFrame,a.name=e.name},i.setCard=function(e,r){var t=(e==c.Player?this.PlayerLayout:this.ComputerLayout).getChildByName(r).getChildByName("CardSelected"),a=l(this.CardsBackPrefab);t.addChild(a),a.name=r,this.speedCards.push(a)},i.removeCard=function(e){for(var r=this.speedCards.length-1;r>=0;r--)if(e===this.speedCards[r].name){this.speedCards[r].destroy();break}},i.addSelectedCard=function(e){},r}(d)).prototype,"DragonFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(L.prototype,"CardsBackPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=r(L.prototype,"PlayerLayout",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(L.prototype,"ComputerLayout",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts","./CardsControl.ts","./DragonTeam.ts","./DragonTurn.ts"],(function(t){"use strict";var n,e,r,a,o,i,u,s,c,d,l,g,p,h,f,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,i=t._decorator,u=t.Node,s=t.Label,c=t.CCInteger,d=t.Component},function(t){l=t.Round_INC,g=t.USER},function(t){p=t.TeamManager},function(t){h=t.CardsControl},function(t){f=t.DragonTeam},function(t){C=t.DragonTurn}],execute:function(){var y,D,b,m,w,R,E,I,v,T,L,z,S,_,P,B,F,N,U,G,M;o._RF.push({},"6a4daXUUPZFb4JoUBzDIyUb","GamePlay",void 0);var k=i.ccclass,x=i.property;t("gamePlay",(y=k("gamePlay"),D=x({type:h}),b=x({type:C}),m=x({type:f}),w=x({type:u}),R=x({type:s}),E=x({type:c}),I=x({type:s}),v=x({type:s}),T=x({type:u}),y((S=n((z=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return n=t.call.apply(t,[this].concat(o))||this,r(n,"powerCards",S,a(n)),r(n,"dragonTurn",_,a(n)),r(n,"DragonsTeam",P,a(n)),r(n,"EndRoundButton",B,a(n)),r(n,"countDown",F,a(n)),r(n,"RoundDurationSec",N,a(n)),r(n,"EnergyLeftLabel",U,a(n)),r(n,"CurRound",G,a(n)),r(n,"Challenge_Bg",M,a(n)),n.cardData=[],n.counter=0,n}e(n,t);var o=n.prototype;return o.start=function(){this.startCountDown(),p.getInstance().setFightingDragons(),p.getInstance().setCurrentRound(l),this.CurRound.string="CurrentRound = "+p.getInstance().getCurrentRound()},o.startGameplay=function(){},o.startCountDown=function(){this.counter=1,this.schedule(this.IncreaseCoundown,1,this.RoundDurationSec-1,0),this.updateEnergyLabel()},o.resetCountdown=function(){this.update_Dragons_Data(),p.getInstance().updateEnergy(),this.updateEnergyLabel(),this.startCountDown(),this.EndRoundButton.active=!0},o.update_Dragons_Data=function(){for(var t=p.getInstance().getDragonsSpeedOrder(),n=0;n<t.length;n++)t[n].Data.BuffEndedCheck();p.getInstance().setFightingDragons(),p.getInstance().setCurrentRound(l),this.CurRound.string="CurrentRound = "+p.getInstance().getCurrentRound()},o.cardSelected=function(t,n){this.cardData.push({dragonName:t,cardData:n}),this.dragonTurn.setCard(g.Player,t),this.powerCards.updateCurrentCards(n),this.updateEnergyLabel()},o.updateEnergyLabel=function(){this.EnergyLeftLabel.string=""+p.getInstance().getCurrentEnegy()},o.ExitGamePlay=function(){this.node.active=!1,p.getInstance().resetCurrentRound()},o.IncreaseCoundown=function(){this.countDown.string=""+this.counter,++this.counter,this.counter==this.RoundDurationSec&&this.roundEnded()},o.roundEnded=function(){this.EndRoundButton.active=!1,this.unschedule(this.IncreaseCoundown),this.selectCardsForComputer(),this.cardData.length>0?this.DragonsTeam.setUpCardsRound(this.cardData):this.resetCountdown(),this.powerCards.RandomCardsSetup(g.Player),this.powerCards.RandomCardsSetup(g.Computer)},o.selectCardsForComputer=function(){var t=this,n=this.powerCards.cardsToSelectForComputer();if(n){for(var e=0;e<n.length;e++)this.dragonTurn.setCard(g.Computer,n[e].dragonName);var r=p.getInstance().getDragonsSpeedOrder();n.forEach((function(n){return t.cardData.push(n)}));for(var a=0,o=0;o<r.length;o++)for(var i=r[o].Node.name,u=0;u<this.cardData.length;u++)if(this.cardData[u].dragonName==i){var s=this.cardData[a];this.cardData[a]=this.cardData[u],this.cardData[u]=s,a++}}},n}(d)).prototype,"powerCards",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(z.prototype,"dragonTurn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(z.prototype,"DragonsTeam",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(z.prototype,"EndRoundButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(z.prototype,"countDown",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(z.prototype,"RoundDurationSec",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),U=n(z.prototype,"EnergyLeftLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(z.prototype,"CurRound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"Challenge_Bg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=z))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(e){"use strict";var t,n,r,a,o,i,u,l,s,c,g,p,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,u=e.JsonAsset,l=e.Prefab,s=e.Node,c=e.CCInteger,g=e.instantiate,p=e.Component},function(e){b=e.USER},function(e){d=e.TeamManager}],execute:function(){var f,h,D,m,y,C,v,P,M,_,w,S,z,B,I,N,k,R,F;o._RF.push({},"ab569UGGgpNRJjBmXgcwbDE","HomeScript",void 0);var H=i.ccclass,j=i.property;e("HomeScript",(f=H("HomeScript"),h=j({type:u}),D=j({type:l}),m=j({type:l}),y=j({type:s}),C=j({type:l}),v=j({type:l}),P=j({type:c}),M=j({type:l}),f((S=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,r(t,"DragonsData",S,a(t)),r(t,"DragonPrefab",z,a(t)),r(t,"BattleField",B,a(t)),r(t,"skeletonNode",I,a(t)),r(t,"comingSoonPrefab",N,a(t)),r(t,"DragonDetails",k,a(t)),r(t,"DragonsCount",R,a(t)),r(t,"Debug_Menu",F,a(t)),t.debugg_Menu=null,t.setCard=2,t.setParticularDragon=!1,t}n(t,e);var o=t.prototype;return o.start=function(){var e=this.getRandomDragons();console.log("USer data",e),d.getInstance().setDragons(e[b.Computer],b.Computer),d.getInstance().setDragons(e[b.Player],b.Player)},o.Debugg_Menu=function(){this.debugg_Menu=g(this.Debug_Menu),this.node.addChild(this.debugg_Menu)},o.removeDebuggMenu=function(){this.debugg_Menu&&this.node.removeChild(this.debugg_Menu)},o.LoadGamePlay=function(){this.node.parent.addChild(g(this.BattleField))},o.getRandomDragons=function(){for(var e=this.DragonsData.json,t=Array.apply(null,{length:e.Data.length}).map(Number.call,Number),n=0,r=[],a=[],o=null,i=null,u=0;u<2*this.DragonsCount;u++)u<3?(i=(o=g(this.DragonPrefab)).getComponent("Dragon"),r.push(o),i.setDragon(e.Data[u],b.Player),t.splice(0,1)):(n=this.randomInt(0,t.length-1),i=(o=g(this.DragonPrefab)).getComponent("Dragon"),u<this.DragonsCount?(r.push(o),i.setDragon(e.Data[t[n]],b.Player)):(a.push(o),i.setDragon(e.Data[t[n]],b.Computer)),t.splice(n,1));return[a,r]},o.Show_Dragons=function(){this.node.parent.addChild(g(this.DragonDetails))},o.backButtonclick=function(e,t){var n=this.node.parent.getChildByName(t);n.active=!n.active,this.node.active=!this.node.active},o.InvntoryClick=function(){this.node.addChild(g(this.comingSoonPrefab))},o.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t}(p)).prototype,"DragonsData",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"DragonPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(w.prototype,"BattleField",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(w.prototype,"skeletonNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"comingSoonPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"DragonDetails",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(w.prototype,"DragonsCount",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),F=t(w.prototype,"Debug_Menu",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=w))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/light_Animation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,o,r,a,p,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,p=t.CCFloat,c=t.Animation,l=t.Component}],execute:function(){var s,u,m,h,d,f,y;r._RF.push({},"eebd6/JvWdGcKHoyGkkfnZx","light_Animation",void 0);var _=a.ccclass,g=a.property;t("light_Animation",(s=_("light_Animation"),u=g({type:p}),m=g({type:p}),s((f=i((d=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,e(i,"Animation_Speed",f,o(i)),e(i,"Animation_Duration",y,o(i)),i}return n(i,t),i.prototype.start=function(){this.node.getComponent(c).clips[0].duration=this.Animation_Duration,this.node.getComponent(c).clips[0].speed=this.Animation_Speed,this.node.getComponent(c).play()},i}(l)).prototype,"Animation_Speed",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.01}}),y=i(d.prototype,"Animation_Duration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(e){"use strict";var n,t,i,r,o,a,c,s,u,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,s=e.Animation,u=e.Component},function(e){l=e.RNG}],execute:function(){var p,m,h,y,f;o._RF.push({},"26d0dOH3EJHSrq0nPv4wYwP","LobbyScene",void 0);var b=a.ccclass,d=a.property;e("LobbyScene",(p=b("LobbyScene"),m=d(c),p((f=n((y=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"arenaIceNode",f,r(n)),n.arenaIceAnimTimer=1200,n.timer=1,n}t(n,e);var o=n.prototype;return o.start=function(){},o.update=function(e){this.timer++,this.timer%this.arenaIceAnimTimer==0&&(this.arenaIceAnimTimer=l(1700,3e3),this.showArenaIceAnimation())},o.showArenaIceAnimation=function(){var e=this.arenaIceNode.getComponent(s),n=e.clips[0].name;e.play(n)},n}(u)).prototype,"arenaIceNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/LobbySpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Component}],execute:function(){var u,p,s,y,b,d,f;o._RF.push({},"44dd33Ran1KDYm2+QATQ9Ww","LobbySpeed",void 0);var m=a.ccclass,h=a.property;e("LobbySpeed",(u=m("LobbySpeed"),p=h({type:[c]}),s=h({type:[c]}),u((d=t((b=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"cloudAnim",d,i(t)),n(t,"PortalAnim",f,i(t)),t}return r(t,e),t.prototype.start=function(){},t}(l)).prototype,"cloudAnim",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=t(b.prototype,"PortalAnim",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./TeamManager.ts","./CardsControl.ts","./comingSoon.ts","./Utility.ts","./Deer.ts","./DeerAniamtion.ts","./Details.ts","./Dragon.ts","./dragonBoard.ts","./dragonDetails.ts","./DragonSequence.ts","./DragonTeam.ts","./DragonTurn.ts","./GamePlay.ts","./HomeScript.ts","./light_Animation.ts","./LobbyScene.ts","./LobbySpeed.ts","./powerCard.ts","./snowfall.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/powerCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./TeamManager.ts"],(function(t){"use strict";var e,n,a,i,o,r,s,l,u,c,d,p,h,m,g,f,y,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.Label,u=t.Node,c=t.SpriteFrame,d=t.Layout,p=t.tween,h=t.Vec3,m=t.resources,g=t.Animation,f=t.Component},function(t){y=t.CardAnimation},function(t){C=t.TeamManager}],execute:function(){var v,b,D,T,L,E,N,w,_,R,A,M,S;o._RF.push({},"0ea13WJTAZLNbhvmLMs99ge","powerCard",void 0);var z=r.ccclass,F=r.property;t("powerCard",(v=z("powerCard"),b=F({type:s}),D=F({type:l}),T=F({type:l}),L=F({type:l}),E=F({type:u}),v((_=e((w=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"DragonImage",_,i(e)),a(e,"cardName",R,i(e)),a(e,"cardDetails",A,i(e)),a(e,"EnergyLabel",M,i(e)),a(e,"customLayout",S,i(e)),e.starsMove=null,e.ContentSize=null,e.parentNode=null,e.Name_Card=null,e.dragonName=null,e.animation_Runn=!1,e.CardData=null,e.cardWidth=0,e.cardHeight=0,e}n(e,t);var o=e.prototype;return o.start=function(){},o.setDragonCard=function(t,e,n){var a=this;void 0===n&&(n=""),this.loadRoomResource("DragonCards/"+e.Name+"/spriteFrame",c).then((function(t){a.node.getComponent(s).spriteFrame=t,a.customLayout.active=!1,console.log("Content size")})).catch((function(t){a.customLayout.active=!0})),this.CardData=e,this.Name_Card=e.Name,this.dragonName=n,this.EnergyLabel.string=e.EnergyCost,this.setCardData(t,e.Name,e.Description),this.node.on(u.EventType.TOUCH_START,this.playAnimation,this),this.node.on(u.EventType.MOUSE_ENTER,this.onCardMove,this),this.node.on(u.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},o.onCardMove=function(){var t=this;this.animation_Runn||(this.node.parent.getComponent(d).enabled=!1,p(this.node).call((function(){t.animation_Runn=!0,t.node.setSiblingIndex(100)})).to(.2,{scale:new h(1.5,1.5,1)}).call((function(){})).call((function(){return t.animation_Runn=!1})).start())},o.onMouseLeave=function(){var t=this;p(this.node).call((function(){t.node.parent.parent.getComponent(d).updateLayout(),console.log("Layout updated")})).to(.2,{scale:new h(1,1,1)}).call((function(){})).start()},o.loadRoomResource=function(t,e){return new Promise((function(n,a){m.load(t,e,(function(t,e){t?a(t):n(e)}))}))},o.setCardData=function(t,e,n){this.DragonImage.spriteFrame=t,this.cardName.string=e,this.cardDetails.string=n},o.setParent=function(t){this.parentNode=t},o.switchCard=function(t){var e=t.getComponent("powerCard");this.setCardData(e.DragonImage.spriteFrame,e.cardName.string,e.cardDetails.string)},o.playAnimation=function(t){if(void 0===t&&(t=y.CardOut),t==y.CardIn)this.node.getComponent(g).play("CardIn");else{if(!C.getInstance().UseEnergy(this.CardData.EnergyCost))return;this.node.getComponent(g).play("CardOut");this.node.getComponent(g).on("finished",this.onFinished,this),this.node.off(u.EventType.TOUCH_START,this.playAnimation,this)}},o.onFinished=function(t){this.node.parent.getComponent(d).enabled=!0;this.node.getComponent(g).off("finished"),this.parentNode.cardSelected(this.node.parent.name,this.CardData),this.node.on(u.EventType.TOUCH_START,this.playAnimation,this)},e}(f)).prototype,"DragonImage",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"cardName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(w.prototype,"cardDetails",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(w.prototype,"EnergyLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(w.prototype,"customLayout",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=w))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/snowfall.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,o,s,n,l,e,a,h,r,d,p,v,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){l=i.cclegacy,e=i._decorator,a=i.Prefab,h=i.UITransform,r=i.instantiate,d=i.Sprite,p=i.Color,v=i.Animation,c=i.Component}],execute:function(){var w,m,B,u,g;l._RF.push({},"d984awSGCVNYJDrKsBRaaQ2","snowfall",void 0);var f=e.ccclass,b=e.property;i("snowfall",(w=f("snowfall"),m=b({type:a}),w((g=t((u=function(i){function t(){for(var t,o=arguments.length,l=new Array(o),e=0;e<o;e++)l[e]=arguments[e];return t=i.call.apply(i,[this].concat(l))||this,s(t,"snowball",g,n(t)),t.visibleSnowBalls=[],t.snowBalls=[],t.yPosition=void 0,t.moveBall=!1,t.selectedBall=void 0,t.startingPositionX1=void 0,t.endingPositionX2=void 0,t.randomNo=null,t}o(t,i);var l=t.prototype;return l.start=function(){this.yPosition=this.node.getComponent(h).height/2,this.startingPositionX1=-this.node.getComponent(h).width/2,this.endingPositionX2=-this.startingPositionX1;for(var i=null,t=0;t<200;t++){i=r(this.snowball),this.node.addChild(i),this.snowBalls.push(i);var o=Math.floor(3*Math.random()),s=Math.floor(100*Math.random()+200),n=Math.floor(20*Math.random());i.getComponent(h).width=n,i.getComponent(h).height=n,this.snowBalls[t].attr({direction:o,pos:s,animPlayed:!1}),this.snowBalls[t].getComponent(d).color=new p(255,255,255,100),i.setPosition(Math.random()*(2*this.startingPositionX1)+this.endingPositionX2,this.yPosition,0)}this.schedule(this.addSnowFlake,1)},l.addSnowFlake=function(){for(var i=0;i<8;i++)this.selectedBall=this.snowBalls.pop(),this.selectedBall.active=!0,this.visibleSnowBalls.push(this.selectedBall)},l.update=function(i){for(var t=0;t<this.visibleSnowBalls.length;t++)this.randomNo=this.visibleSnowBalls[t].direction,0==this.randomNo?this.moveRight(this.visibleSnowBalls[t]):1==this.randomNo?this.moveLeft(this.visibleSnowBalls[t]):2==this.randomNo&&this.moveStraight(this.visibleSnowBalls[t]),this.visibleSnowBalls[t].position.y<=this.startingPositionX1&&(this.visibleSnowBalls[t].setPosition(Math.random()*(2*this.startingPositionX1)+this.endingPositionX2,this.yPosition,0),this.visibleSnowBalls[t].active=!1,this.visibleSnowBalls[t].getComponent(d).color=new p(255,255,255,100),this.visibleSnowBalls[t].animPlayed=!1,this.visibleSnowBalls[t].getComponent(v).stop(),this.snowBalls.push(this.visibleSnowBalls[t]),this.visibleSnowBalls.splice(t,1)),this.visibleSnowBalls[t].position.y<=this.visibleSnowBalls[t].pos&&!this.visibleSnowBalls[t].animPlayed&&(this.visibleSnowBalls[t].getComponent(v).play("animation"),this.visibleSnowBalls[t].animPlayed=!0)},l.moveStraight=function(i){i.setPosition(i.position.x,i.position.y-1,0)},l.moveRight=function(i){i.setPosition(i.position.x+.5,i.position.y-1,0)},l.moveLeft=function(i){i.setPosition(i.position.x-.5,i.position.y-1,0)},t}(c)).prototype,"snowball",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=u))||B));l._RF.pop()}}}));

System.register("chunks:///_virtual/TeamManager.ts",["cc","./Constants.ts"],(function(n){"use strict";var r,t;return{setters:[function(n){r=n.cclegacy},function(n){t=n.USER}],execute:function(){r._RF.push({},"0e055FLahdKRaVf1Pe5ImPq","TeamManager",void 0);var e=n("TeamManager",function(){function n(){if(this._userDragons=[],this._AIDragons=[],this._cardsAvailabel=12,this._currentEnenrgy=3,this._currentRound=0,this._computerData=null,this._computerEnergy=3,this._FightingUserDragons=[],this._FightingAIDragons=[],this._DragonsSpeedOrder=[],n._instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");n._instance=this}var r=n.prototype;return r.getCurrentRound=function(){return this._currentRound},r.setCurrentRound=function(n){this._currentRound=this._currentRound+n},r.resetCurrentRound=function(){this._currentRound=0},n.getInstance=function(){return n._instance},r.UseEnergy=function(n,r){switch(void 0===r&&(r=t.Player),r){case t.Player:return!(this._currentEnenrgy-n<0)&&(this._currentEnenrgy=this._currentEnenrgy-n,!0);case t.Computer:return!(this._computerEnergy-n<0)&&(this._computerEnergy=this._computerEnergy-n,!0)}},r.getCurrentEnegy=function(n){switch(void 0===n&&(n=t.Player),n){case t.Player:return this._currentEnenrgy;case t.Computer:return this._computerEnergy}},r.updateEnergy=function(){this._currentEnenrgy=this._currentEnenrgy+2,this._computerEnergy=this._computerEnergy+2},r.getCardsCount=function(){return this._cardsAvailabel},r.ReduceCards=function(){--this._cardsAvailabel},r.setDragons=function(n,r){switch(r){case t.Computer:this._AIDragons=n;break;case t.Player:this._userDragons=n}},r.setFightingDragons=function(){this.supportingDragons(this._AIDragons,this._FightingAIDragons,t.Computer),this.supportingDragons(this._userDragons,this._FightingUserDragons,t.Player),this._DragonsSpeedOrder=[].concat(this._FightingAIDragons,this._FightingUserDragons),this.sortOnSpeed(this._DragonsSpeedOrder)},r.supportingDragons=function(n,r,t){if(r.length>0)this.sortOnSpeed(r);else{for(var e=0;e<n.length;e++){var s={Node:n[e],user:t,Data:n[e].getComponent("Dragon")};r.push(s)}this.sortOnSpeed(r)}},r.getDragonsSpeedOrder=function(){return this._DragonsSpeedOrder},r.get_Dragon_LowHP=function(n){for(var r=this.getFightingDragons(n),t=[],e=0;e<r.length;e++){var s=r[e].Data;t.push(s.CardsData.HP-s.HP)}return r[t.indexOf(Math.min.apply(Math,t))]},r.getDragonUser=function(n){return this._DragonsSpeedOrder.find((function(r){return r.Node.name===n})).user},r.removeDragon=function(n){var r=0;for(r=0;r<this._DragonsSpeedOrder.length&&this._DragonsSpeedOrder[r].name!==n;r++);this._DragonsSpeedOrder.splice(r,1)},r.sortOnSpeed=function(n){n.sort((function(n,r){return n.Data.SPD>r.Data.SPD?-1:1}))},r.getUserDragonIndex=function(n){return this._userDragons[n]},r.getDragons=function(n){switch(n){case t.Computer:return this._AIDragons;case t.Player:return this._userDragons}},r.getFightingDragons=function(n){switch(n){case t.Computer:return this._FightingAIDragons;case t.Player:return this._FightingUserDragons}},n}());e._instance=new e,r._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["cc"],(function(t){"use strict";var n,o,e,i,r,c,s,u;return{setters:[function(t){n=t.cclegacy,o=t._decorator,e=t.tween,i=t.Vec3,r=t.UITransform,c=t.Sprite,s=t.Intersection2D,u=t.instantiate}],execute:function(){t({RNG:function(t,n){return Math.floor(Math.random()*(t-n+1)+n)},collisionCheck:function(t,n){if(null!=t&&null!=n){var o,e;return s.rectRect(null==(o=t.getComponent(r))?void 0:o.getBoundingBoxToWorld(),null==(e=n.getComponent(r))?void 0:e.getBoundingBoxToWorld())}},getCloseNode:function(t,n){for(var o=[],e=0;e<t.length;e++)o[e]=i.distance(n.getPosition(),t[e].getPosition());var r=o.indexOf(Math.min.apply(Math,o));return t[r]},getScript:function(t,n){return t.getComponent(n)},getXposition:function(t){return t.position.x},getYposition:function(t){return t.position.y},nodeHeight:function(t){return t.getComponent(r).height/2},nodeWidth:function(t){return t.getComponent(r).width/2},popClose:function(t,n){e(t).to(n,{scale:new i(0,0,0)}).start()},popOpen:function(t,n){e(t).to(n,{scale:new i(1,1,1)}).start()},setSpriteFrame:function(t,n){t.getComponent(c).spriteFrame=n}}),n._RF.push({},"97b29Fwc8RL64tt9SRS0NfJ","Utility",void 0);o.ccclass,o.property;t("snail",function(){function t(){this.snail=void 0}return t.prototype.setSnail=function(t){this.snail=t},t}()),t("MyNode",(function(t,n,o){void 0===o&&(o=null),this.myNode=void 0,this.myScript=void 0,this.scoreCount=!1,this.myNode=u(t),o&&(this.myScript=this.myNode.getComponent(o)),n&&n.addChild(this.myNode)}));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});